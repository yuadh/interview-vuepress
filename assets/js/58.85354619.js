(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{392:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("è™½ç„¶ä½ çŸ¥é“å¯ä»¥ä¼˜åŒ–ï¼Œä½†ä¸ä»£è¡¨ä½ åº”è¯¥ä¼˜åŒ–")])]),t._v(" "),s("h1",{attrs:{id:"ä¸ºå•¥ç”¨react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºå•¥ç”¨react"}},[t._v("#")]),t._v(" ä¸ºå•¥ç”¨React")]),t._v(" "),s("p",[t._v("ç­”Reactçš„å¥½å¤„å°±æ˜¯äº†")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("åˆæˆäº‹ä»¶")])]),t._v(" "),s("li",[s("p",[t._v("VDOM")])]),t._v(" "),s("li",[s("p",[t._v("JSX")])]),t._v(" "),s("li",[s("p",[t._v("ç”Ÿå‘½å‘¨æœŸ")])]),t._v(" "),s("li",[s("p",[t._v("å•å‘æ•°æ®æµ")])]),t._v(" "),s("li",[s("p",[t._v("â€¦â€¦")])])]),t._v(" "),s("h1",{attrs:{id:"reactã€vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactã€vue"}},[t._v("#")]),t._v(" Reactã€Vue")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("å¼•å‡ºmvcå’Œmvvm\nreactå’Œvueåº•å±‚æ€æƒ³\nä¼˜ç¼ºç‚¹\nå®è·µï¼šæŠ€æœ¯é€‰å‹\nå¾—å‡ºç»“è®º\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"ç›¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸åŒ"}},[t._v("#")]),t._v(" ç›¸åŒ")]),t._v(" "),s("ul",[s("li",[t._v("ç»„ä»¶åŒ–å¼€å‘å’ŒVDOM")]),t._v(" "),s("li",[t._v("æ”¯æŒprops")]),t._v(" "),s("li",[t._v("æ•°æ®é©±åŠ¨è§†å›¾ï¼Œä¸ç›´æ¥æ“ä½œADOM")]),t._v(" "),s("li",[t._v("æ”¯æŒSSR")]),t._v(" "),s("li",[t._v("éƒ½å€Ÿé‰´MVVMçš„æ€æƒ³")]),t._v(" "),s("li",[t._v("å°†æ³¨æ„åŠ›é›†ä¸­åœ¨ ä¿æŒæ ¸å¿ƒåº“ï¼Œå°†å…¶ä»–åŠŸèƒ½ å¦‚ è·¯ç”± å’Œå…¨å±€çŠ¶æ€ç®¡ç† äº¤ç»™ç›¸å…³çš„åº“")]),t._v(" "),s("li",[t._v("éƒ½æœ‰è‡ªå·±çš„æ„å»ºå·¥å…·")])]),t._v(" "),s("h2",{attrs:{id:"ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒ"}},[t._v("#")]),t._v(" ä¸åŒ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("vueå®ç°æ•°æ®åŒå‘ç»‘å®šï¼Œreactå•å‘æ•°æ®æµ")])]),t._v(" "),s("li",[s("p",[t._v("reactçš„jsxåŠŸèƒ½å¼ºå¤§ï¼Œæ‰©å±•æ€§å¼º")])]),t._v(" "),s("li",[s("p",[t._v("vueçš„domæ“ä½œæ–¹ä¾¿ï¼Œfor/ifæŒ‡ä»¤")])]),t._v(" "),s("li",[s("p",[t._v("reactæ€æƒ³å¾ˆæ£’ï¼Œä»£ç æ›´ç¾è§‚")])]),t._v(" "),s("li",[s("p",[t._v("Vueæ ‡ç­¾æ›´æ–¹ä¾¿ï¼Œä¹Ÿæ˜¯å°è£…å¥½çš„è¯­æ³•ç³–")])]),t._v(" "),s("li",[s("p",[t._v("VDOM")])])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mp.weixin.qq.com/s/oLo6vJDCjcx10QYSXqUUXA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vueæ¯”Reactå¥½ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒºåˆ«"}},[t._v("#")]),t._v(" åŒºåˆ«ï¼Ÿ")]),t._v(" "),s("p",[t._v("å¤§ä½“ç›¸åŒï¼Œéƒ½ä½¿ç”¨VDOMé«˜æ•ˆ æ›´æ–°è§†å›¾ï¼Œ æå€¡ç»„ä»¶åŒ–ï¼Œ å®ç° æ•°æ®é©±åŠ¨è§†å›¾ï¼Œ ä½¿ç”¨diffç®—æ³•ï¼Œ å¯¹diffç®—æ³• ä¼˜åŒ–ï¼Œ  routeråº“å®ç°urlåˆ°ç»„ä»¶çš„æ˜ å°„ï¼Œ çŠ¶æ€ç®¡ç†")]),t._v(" "),s("p",[t._v("å…·ä½“å®ç° ä¸å°½ç›¸åŒ")]),t._v(" "),s("h3",{attrs:{id:"ç»„ä»¶åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶åŒ–"}},[t._v("#")]),t._v(" ç»„ä»¶åŒ–")]),t._v(" "),s("p",[t._v("ç»„ä»¶æ˜¯ç‹¬ç«‹å’Œå¯å¤ç”¨çš„ä»£ç ç»„ç»‡å•å…ƒï¼Œå®ƒä½¿å¼€å‘è€…ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨")]),t._v(" "),s("p",[t._v("æé«˜å¼€å‘æ•ˆç‡**ã€æµ‹è¯•æ€§ã€**å¤ç”¨æ€§")]),t._v(" "),s("p",[t._v("é™ä½è€¦åˆåº¦ï¼Œåœ¨ä¿æŒæ¥å£ä¸å˜å¯ä»¥æ›¿æ¢ä¸åŒç»„ä»¶å¿«é€Ÿå®Œæˆéœ€æ±‚ï¼Œè¾“å…¥æ¡†ï¼Œå¯æ›¿æ¢æ—¥å†ã€æ—¶é—´ã€èŒƒå›´ç­‰ç»„ä»¶ä½œå…·ä½“çš„å®ç°")]),t._v(" "),s("p",[s("strong",[t._v("è°ƒè¯•æ–¹ä¾¿")]),t._v("ï¼Œæ•´ä¸ªç³»ç»Ÿé€šè¿‡ç»„ä»¶ç»„åˆï¼Œå‡ºç°é—®é¢˜æ—¶ï¼Œæ’é™¤æ³•ç§»é™¤ç»„ä»¶ï¼Œæ ¹æ®æŠ¥é”™ç»„ä»¶å¿«é€Ÿå®šä½é—®é¢˜ï¼Œå› ä¸ºæ¯ä¸ªç»„ä»¶ä½è€¦åˆï¼ŒèŒè´£å•ä¸€ï¼Œé€»è¾‘ä¼šæ¯”åˆ†ææ•´ä¸ªç³»ç»Ÿç®€å•")]),t._v(" "),s("p",[s("strong",[t._v("æé«˜å¯ç»´æŠ¤æ€§")]),t._v("ï¼Œç»„ä»¶èŒè´£å•ä¸€ï¼Œè¢«å¤ç”¨ï¼Œå¯¹ä»£ç ä¼˜åŒ–å¯è·å¾—ç³»ç»Ÿæ•´ä½“å‡çº§")]),t._v(" "),s("p",[t._v("éƒ½æ¨å´‡ç»„ä»¶åŒ–ï¼Œå°†é¡µé¢æ‹†åˆ†æˆå°çš„å¯å¤ç”¨å•å…ƒæé«˜ å¤ç”¨ç‡å’Œå¼€å‘æ•ˆç‡ã€‚ å¼€å‘æ—¶reactå’Œvueæœ‰ç›¸åŒçš„å¥—è·¯ï¼Œçˆ¶å­ç»„ä»¶ä¼ å‚ï¼Œæ•°æ®çŠ¶æ€ç®¡ç†ï¼Œå‰ç«¯è·¯ç”±")]),t._v(" "),s("p",[t._v("Reactæ¨è JSX + inline styleï¼Œ æŠŠ HTML å’Œ CSS å†™è¿› JavaScript")]),t._v(" "),s("p",[t._v("Vue æ¨è template çš„å•æ–‡ä»¶ç»„ä»¶æ ¼å¼(ç®€å•æ˜“æ‡‚ï¼Œä»ä¼ ç»Ÿå‰ç«¯è½¬è¿‡æ¥æ˜“äºç†è§£)ï¼Œå³ htmlï¼Œcssï¼ŒJS å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶(vueä¹Ÿæ”¯æŒJSXå†™æ³•)")]),t._v(" "),s("h3",{attrs:{id:"vdom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vdom"}},[t._v("#")]),t._v(" VDOM")]),t._v(" "),s("p",[t._v("è¡¨ç°ä¸ºæè¿° DOM ç»“æ„åŠå…¶å±æ€§ä¿¡æ¯çš„ å¯¹è±¡")]),t._v(" "),s("ul",[s("li",[t._v("å­˜å‚¨åœ¨å†…å­˜")]),t._v(" "),s("li",[t._v("æè¿°ADOM")]),t._v(" "),s("li",[t._v("æ•°æ®å˜åŒ– ç”Ÿæˆæ–°çš„DOMï¼Œå¯¹æ¯”æ–°æ—§VDOMå°†å·®å¼‚æ›´æ–°åˆ°ADOM")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä¼˜ç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("å‡å°‘ DOM æ“ä½œï¼šè™šæ‹Ÿ DOM å¯ä»¥å°†å¤šæ¬¡ DOM æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œ")]),t._v(" "),s("li",[t._v("ç ”å‘æ•ˆç‡çš„é—®é¢˜ï¼šè™šæ‹Ÿ DOM çš„å‡ºç°ï¼Œä¸ºæ•°æ®é©±åŠ¨è§†å›¾ æ€æƒ³æä¾› é«˜åº¦å¯ç”¨ è½½ä½“ï¼Œ å‰ç«¯å¼€å‘ åŸºäºå‡½æ•°å¼ UI  ç¼–ç¨‹æ–¹å¼å®ç°é«˜æ•ˆçš„å£°æ˜å¼ç¼–ç¨‹")]),t._v(" "),s("li",[t._v("è·¨å¹³å°çš„é—®é¢˜ï¼š åŒä¸€å¥—è™šæ‹Ÿ DOMï¼Œå¯ å¯¹æ¥ä¸åŒå¹³å° æ¸²æŸ“é€»è¾‘ï¼Œä»è€Œå®ç°â€œä¸€æ¬¡ç¼–ç ï¼Œå¤šç«¯è¿è¡Œâ€")])]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"reactã€vue-vdomç›¸åŒç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactã€vue-vdomç›¸åŒç‚¹"}},[t._v("#")]),t._v(" reactã€vue VDOMç›¸åŒç‚¹")])]),t._v(" "),s("p",[t._v("éƒ½ä½¿ç”¨ Virtual DOM + Diffç®—æ³•ï¼Œæœ€åéƒ½æ˜¯ç”Ÿæˆrenderå‡½æ•°ï¼Œrenderå‡½æ•°æ‰§è¡Œè¿”å›VNode(VDOMçš„æ•°æ®ç»“æ„ï¼Œæœ¬è´¨æ˜¯æ ‘)")]),t._v(" "),s("p",[t._v("æ¯æ¬¡UIæ›´æ–°ï¼Œä¼šæ ¹æ®renderé‡æ–°ç”Ÿæˆæœ€æ–°VNodeï¼Œè·Ÿä»¥å‰ç¼“å­˜èµ·æ¥è€çš„VNodeæ¯”å¯¹ï¼Œä½¿ç”¨Diffç®—æ³• æ›´æ–°ADOMï¼ˆVDOMæ˜¯ å¯¹è±¡ ï¼Œ åœ¨JSå¼•æ“ä¸­ï¼Œ ADOMåœ¨æµè§ˆå™¨æ¸²æŸ“å¼•æ“ä¸­ï¼Œæ‰€ä»¥æ“ä½œVDOMæ¯”æ“ä½œADOMå¼€é”€è¦å° ï¼‰")]),t._v(" "),s("blockquote",[s("h4",{attrs:{id:"diff-ä¼˜åŒ–åŸºæœ¬ä¸Šæ€è·¯ç›¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-ä¼˜åŒ–åŸºæœ¬ä¸Šæ€è·¯ç›¸åŒ"}},[t._v("#")]),t._v(" diff ä¼˜åŒ–åŸºæœ¬ä¸Šæ€è·¯ç›¸åŒ")])]),t._v(" "),s("ul",[s("li",[t._v("tagä¸åŒè®¤ä¸ºæ˜¯ä¸åŒèŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("åªæ¯”è¾ƒåŒä¸€å±‚çº§ï¼Œä¸è·¨çº§æ¯”è¾ƒ")]),t._v(" "),s("li",[t._v("åŒä¸€å±‚çº§çš„èŠ‚ç‚¹ç”¨keyå”¯ä¸€æ ‡è¯†ï¼Œtagå’Œkeyéƒ½ç›¸åŒåˆ™è®¤ä¸ºæ˜¯åŒä¸€èŠ‚ç‚¹")])]),t._v(" "),s("blockquote",[s("h4",{attrs:{id:"diff-æºç -ç›¸åŒä¹‹å¤„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-æºç -ç›¸åŒä¹‹å¤„"}},[t._v("#")]),t._v(" diff  æºç  ç›¸åŒä¹‹å¤„")])]),t._v(" "),s("p",[t._v("å¤„ç†è€èŠ‚ç‚¹éƒ¨åˆ†ï¼Œéƒ½éœ€è¦æŠŠèŠ‚ç‚¹å¤„ç† key - value çš„ Map ç»“æ„ï¼Œæ–¹ä¾¿åœ¨å¾€åçš„æ¯”å¯¹ä¸­ å¿«é€Ÿé€šè¿‡èŠ‚ç‚¹çš„ key å–åˆ°å¯¹åº” èŠ‚ç‚¹ã€‚åŒæ ·åœ¨æ¯”å¯¹ä¸¤ä¸ªæ–°è€èŠ‚ç‚¹æ˜¯å¦ç›¸åŒæ—¶ï¼Œkey æ˜¯å¦ç›¸åŒä¹Ÿæ˜¯ åˆ¤æ–­æ ‡å‡†ã€‚ è®¾ç½®ä¸€ä¸ªå”¯ä¸€å€¼ key åœ¨ diff  å¤„ç† æ—¶ æ€§èƒ½æ‰æœ€å¤§åŒ–")]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"reactå’Œvueä¸­vdomå·®åˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactå’Œvueä¸­vdomå·®åˆ«"}},[t._v("#")]),t._v(" reactå’Œvueä¸­VDOMå·®åˆ«")])]),t._v(" "),s("p",[t._v("éƒ½æ˜¯ç”¨jså¯¹è±¡ æ¨¡æ‹ŸADOMï¼ŒVDOMçš„diff æœ€å°åŒ–æ›´æ–°ADOMï¼Œ å‡å° æ€§èƒ½æŸè€—ï¼ŒæŒ‰é¢—ç²’åº¦åˆ†ä¸ºä¸åŒçš„ç±»å‹æ¯”è¾ƒåŒå±‚çº§domèŠ‚ç‚¹ï¼Œè¿›è¡Œå¢ã€åˆ ã€ç§»")]),t._v(" "),s("p",[t._v("æŒ‰é¢—ç²’åº¦åˆ†ä¸ºtree diffï¼Œ component diffï¼Œ element diff. tree diff æ¯”è¾ƒåŒå±‚çº§domèŠ‚ç‚¹ï¼Œè¿›è¡Œå¢ã€åˆ ã€ç§»æ“ä½œã€‚å¦‚æœé‡åˆ°componentï¼Œ å°±ä¼šé‡æ–°tree diffæµç¨‹")]),t._v(" "),s("blockquote",[s("h4",{attrs:{id:"domçš„æ›´æ–°ç­–ç•¥ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#domçš„æ›´æ–°ç­–ç•¥ä¸åŒ"}},[t._v("#")]),t._v(" domçš„æ›´æ–°ç­–ç•¥ä¸åŒ")])]),t._v(" "),s("p",[t._v("react  è‡ªé¡¶å‘ä¸‹å…¨diffã€‚vue è·Ÿè¸ªæ¯ ä¸ªç»„ä»¶ ä¾èµ–å…³ç³»ï¼Œä¸éœ€è¦re-rendr")]),t._v(" "),s("p",[t._v("react çŠ¶æ€ æ”¹å˜æ—¶ï¼Œ é‡æ–°render  ç”Ÿæˆæ–°çš„VDOM treeï¼Œ æ–°æ—§dom tree æ¯”è¾ƒï¼Œ  patchæ‰“è¡¥ä¸æ–¹å¼ï¼Œå±€éƒ¨æ›´æ–° ã€‚ reactä¸º é¿å…çˆ¶ç»„ä»¶æ›´æ–° å¼•èµ·ä¸å¿…è¦ å­ç»„ä»¶æ›´æ–°ï¼Œ  åœ¨shouldComponentUpdate é€»è¾‘åˆ¤æ–­ï¼Œå‡å°‘æ²¡å¿…è¦ renderï¼Œ  é‡æ–°ç”ŸæˆVDOMï¼Œåšå·®é‡å¯¹æ¯”")]),t._v(" "),s("p",[t._v("vueé€šè¿‡Object.defineProperty æŠŠ data å±æ€§å…¨éƒ¨è½¬ä¸º getter/setterã€‚ watcherå®ä¾‹å¯¹è±¡ åœ¨ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œå°†å±æ€§è®°å½•ä¸ºdepï¼Œ å½“dep é¡¹ä¸­çš„ setterè¢«è°ƒç”¨æ—¶ï¼Œé€šçŸ¥watché‡æ–°è®¡ç®—ï¼Œä½¿å¾—å…³è”ç»„ä»¶æ›´æ–°")]),t._v(" "),s("blockquote",[s("h5",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")])]),t._v(" "),s("p",[t._v("Vue2 æ ¸å¿ƒDiffç®—æ³•é‡‡ç”¨ åŒç«¯æ¯”è¾ƒ ï¼ŒåŒæ—¶ä»æ–°æ—§childrençš„ä¸¤ç«¯ æ¯”è¾ƒï¼Œå€ŸåŠ©keyå€¼æ‰¾åˆ°å¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œå† æ“ä½œã€‚ç›¸æ¯”Reactçš„Diffç®—æ³•ï¼ŒåŒæ ·æƒ…å†µ å¯ä»¥å‡å°‘ç§»åŠ¨èŠ‚ç‚¹æ¬¡æ•°ï¼Œå‡å°‘ æ€§èƒ½æŸè€—ï¼Œæ›´åŠ  ä¼˜é›…")]),t._v(" "),s("h3",{attrs:{id:"æ•°æ®é©±åŠ¨è§†å›¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®é©±åŠ¨è§†å›¾"}},[t._v("#")]),t._v(" æ•°æ®é©±åŠ¨è§†å›¾")]),t._v(" "),s("p",[t._v("æ•°æ®å˜åŒ– ç›¸åº” è§†å›¾ æ›´æ–°ã€‚å¼€å‘è€…åªéœ€è¦å…³æ³¨æ•°æ® å˜åŒ–è€Œä¸ç”¨ æ‰‹åŠ¨ æ“ä½œDOM")]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"vue-æ•°æ®é©±åŠ¨è§†å›¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-æ•°æ®é©±åŠ¨è§†å›¾"}},[t._v("#")]),t._v(" vue æ•°æ®é©±åŠ¨è§†å›¾")])]),t._v(" "),s("p",[t._v("MVVM æ¡†æ¶å®ç°ã€‚MVVM  åŒ…å«3ä¸ªéƒ¨åˆ†:modelã€viewå’Œ viewModel")]),t._v(" "),s("ul",[s("li",[t._v("Model æ•°æ®")]),t._v(" "),s("li",[t._v("View è§†å›¾éƒ¨åˆ†ï¼Œ dom")]),t._v(" "),s("li",[t._v("ViewModel è¿æ¥è§†å›¾ä¸æ•°æ®çš„ä¸­é—´ä»¶")])]),t._v(" "),s("p",[t._v("ViewModelæ˜¯å®ç°æ•°æ®é©±åŠ¨è§†å›¾çš„æ ¸å¿ƒï¼Œ æ•°æ®å˜åŒ– ViewModelèƒ½å¤Ÿç›‘å¬åˆ° ï¼Œ åŠæ—¶ é€šçŸ¥view ä¿®æ”¹ã€‚åŒæ ·å½“é¡µé¢æœ‰äº‹ä»¶è§¦å‘ ï¼ŒViewModelä¹Ÿèƒ½å¤Ÿç›‘å¬ ï¼Œå¹¶é€šçŸ¥modelå“åº”ã€‚ViewModelç›¸å½“äºè§‚å¯Ÿè€…ï¼Œç›‘æ§ç€åŒæ–¹çš„åŠ¨ä½œï¼ŒåŠæ—¶é€šçŸ¥å¯¹æ–¹æ“ä½œ")]),t._v(" "),s("p",[t._v("é¦–å…ˆï¼Œvuejså®ä¾‹åŒ–è¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹éå†ä¼ ç»™å®ä¾‹åŒ–å¯¹è±¡é€‰é¡¹ä¸­çš„data é€‰é¡¹ï¼Œéå†å…¶å±æ€§ä½¿ç”¨ Object.defineProperty å…¨éƒ¨è½¬ä¸º getter/setter")]),t._v(" "),s("p",[t._v("åŒæ—¶æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰watcherå®ä¾‹å¯¹è±¡ï¼Œåœ¨æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œç”¨getterè®¿é—®dataçš„å±æ€§ï¼Œwatcheræ­¤æ—¶æŠŠç”¨åˆ°çš„dataå±æ€§è®°ä¸ºä¾èµ–ï¼Œå»ºç«‹è§†å›¾ä¸æ•°æ®è”ç³»ã€‚ä¹‹åæ¸²æŸ“è§†å›¾çš„æ•°æ®ä¾èµ–æ”¹å˜ï¼Œwatcherå¯¹æ¯”å‰åä¸¤ä¸ªçš„æ•°å€¼æ˜¯å¦å˜åŒ–ï¼Œç¡®å®šæ˜¯å¦é€šçŸ¥è§†å›¾re-renderã€‚è¿™æ ·å®ç°æ‰€è°“çš„æ•°æ®å¯¹äºè§†å›¾é©±åŠ¨")]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"reactçš„æ•°æ®é©±åŠ¨è§†å›¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactçš„æ•°æ®é©±åŠ¨è§†å›¾"}},[t._v("#")]),t._v(" reactçš„æ•°æ®é©±åŠ¨è§†å›¾")])]),t._v(" "),s("ul",[s("li",[t._v("pending å½“å‰æ‰€æœ‰ç­‰å¾…æ›´æ–°çš„"),s("strong",[t._v("stateé˜Ÿåˆ—")])]),t._v(" "),s("li",[t._v("isBatchingUpdates æ ‡è¯†å½“å‰æ˜¯å¦å¤„ç†æ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œé»˜è®¤false")]),t._v(" "),s("li",[t._v("dirtyComponent å½“å‰æ‰€æœ‰å¾…æ›´æ–°stateçš„"),s("strong",[t._v("ç»„ä»¶é˜Ÿåˆ—")])])]),t._v(" "),s("p",[t._v("setStateå®ç°æ•°æ®é©±åŠ¨è§†å›¾ï¼Œå¼•å‘ä¸€æ¬¡ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹ä»è€Œå®ç°é¡µé¢çš„re-render")]),t._v(" "),s("ul",[s("li",[t._v("setState() å°†æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°stateå­˜å‚¨åœ¨pendingé˜Ÿåˆ—")]),t._v(" "),s("li",[t._v("åˆ¤æ–­æ˜¯å¦å¤„äºæ‰¹é‡æ›´æ–°ï¼Œæ˜¯ å°±å°†éœ€è¦æ›´æ–°stateçš„ç»„ä»¶æ·»åŠ åˆ°dirtyComponents")]),t._v(" "),s("li",[t._v("ä¸æ˜¯ ä¼šéå†dirtyComponentsæ‰€æœ‰ç»„ä»¶ï¼Œè°ƒç”¨updateComponentæ›´æ–°æ¯ä¸ªdirtyç»„ä»¶")])]),t._v(" "),s("h2",{attrs:{id:"æ ¸å¿ƒæ€æƒ³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒæ€æƒ³"}},[t._v("#")]),t._v(" æ ¸å¿ƒæ€æƒ³")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/5e5d1297045d47898383a658cf3c0c65tplv-k3u1fbpfcp-zoom-in-crop-mark4536000.image",alt:"image.png"}})]),t._v(" "),s("h1",{attrs:{id:"reactè®¾è®¡å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactè®¾è®¡å®ç°"}},[t._v("#")]),t._v(" Reactè®¾è®¡å®ç°")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ˜¯ä¸€ä¸ªç®€å•çš„JS UIåº“ï¼Œç”¨äºæ„å»ºé«˜æ•ˆã€å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢")])]),t._v(" "),s("li",[s("p",[t._v("æ˜¯ä¸€ä¸ªè½»é‡çº§åº“")])]),t._v(" "),s("li",[s("p",[t._v("éµå¾ªç»„ä»¶è®¾è®¡æ¨¡å¼ã€å£°æ˜å¼ç¼–ç¨‹èŒƒå¼å’Œå‡½æ•°å¼ç¼–ç¨‹")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨VDOMæ“ä½œADOM")])]),t._v(" "),s("li",[s("p",[t._v("éµå¾ªä»é«˜é˜¶ç»„ä»¶åˆ°ä½é˜¶ç»„ä»¶çš„å•å‘æ•°æ®æµ")])])]),t._v(" "),s("h2",{attrs:{id:"ä¼˜ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜ç‚¹"}},[t._v("#")]),t._v(" ä¼˜ç‚¹")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æé«˜æ€§èƒ½")])]),t._v(" "),s("li",[s("p",[t._v("JSX å¯è¯»æ€§å¢åŠ ")])]),t._v(" "),s("li",[s("p",[t._v("æ˜“é›†æˆä½¿ç”¨")])]),t._v(" "),s("li",[s("p",[t._v("ä»£ç ç›´è§‚")])]),t._v(" "),s("li",[s("p",[t._v("ç»„ä»¶ç®€å•å¯å¤ç”¨")])]),t._v(" "),s("li",[s("p",[t._v("VDOM")])]),t._v(" "),s("li",[s("p",[t._v("å‡½æ•°å¼ç¼–ç¨‹")])])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mp.weixin.qq.com/s/l1f7KD2dGyYB25A7oWucyw",target:"_blank",rel:"noopener noreferrer"}},[t._v("React è€çŸ£ï¼Œæˆ‘å»ºè®®å¤§å®¶ç”¨ç”¨åˆ«çš„æ¡†æ¶"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"ä¸ä¹ æƒ¯ä¹‹å¤„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ä¹ æƒ¯ä¹‹å¤„"}},[t._v("#")]),t._v(" ä¸ä¹ æƒ¯ä¹‹å¤„")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mp.weixin.qq.com/s/GglGDYgU9QDVprcQZ4nlYg",target:"_blank",rel:"noopener noreferrer"}},[t._v("React æˆ‘çˆ±ä½ ï¼Œä½†ä½ å¤ªè®©æˆ‘å¤±æœ›äº†"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsx"}},[t._v("#")]),t._v(" JSX")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ele"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("hello world")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("æ—¢ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯HTMLï¼Œæ˜¯jsxï¼Œæ˜¯JSçš„è¯­æ³•æ‰©å±•ï¼Œç”ŸæˆReactå…ƒç´ ")]),t._v(" "),s("p",[t._v("Reactè®¤ä¸ºæ¸²æŸ“é€»è¾‘æœ¬è´¨ä¸å…¶ä»–UIé€»è¾‘å†…åœ¨è€¦åˆï¼Œå°†æ ‡ç­¾å’Œé€»è¾‘å…±åŒå­˜æ”¾åœ¨ç»„ä»¶ä¸­ï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»")]),t._v(" "),s("p",[t._v("ç¼–è¯‘ä¹‹åï¼ŒJSXè¢«è½¬æ¢ä¸ºJSæ™®é€šå‡½æ•°è°ƒç”¨ï¼Œå–å€¼åå¾—åˆ°JSå¯¹è±¡")]),t._v(" "),s("p",[t._v("å…è®¸åœ¨æ¡ä»¶æˆ–å¾ªç¯è¯­å¥ä¸­ä½¿ç”¨JSXï¼Œå°†å…¶èµ‹å€¼ç»™å˜é‡ï¼Œä¼ å…¥JSXä½œä¸ºå‚æ•°ï¼Œä»¥åŠä»å‡½æ•°ä¸­è¿”å›JSX")]),t._v(" "),s("p",[s("strong",[t._v("é˜²æ­¢æ³¨å…¥æ”»å‡»")])]),t._v(" "),s("ol",[s("li",[t._v("å¯ä»¥å®‰å…¨åœ°åœ¨JSXä¸­æ’å…¥ç”¨æˆ·å†…å®¹")]),t._v(" "),s("li",[t._v("Reactçš„DOMåœ¨æ¸²æŸ“æ‰€æœ‰å†…å®¹åï¼Œä¼šè¿›è¡Œè½¬ä¹‰ï¼Œç¡®ä¿åº”ç”¨ä¸­æ°¸ä¸ä¼šæ³¨å…¥é‚£äº›ä¸æ˜¯è‡ªå·±å†™çš„å†…å®¹")])]),t._v(" "),s("p",[s("strong",[t._v("JSXè¡¨ç¤ºå¯¹è±¡")])]),t._v(" "),s("p",[t._v("Babelå°†JSXè½¬è¯‘ä¸ºä¸€ä¸ªåä¸ºReact.createElement()å‡½æ•°è°ƒç”¨")]),t._v(" "),s("p",[t._v("Reactè¯»å–è¿™äº›Reactå…ƒç´ å¯¹è±¡å¹¶ä½¿ç”¨å®ƒä»¬æ„å»ºDOMä»¥ä¿æŒéšæ—¶æ›´æ–°")]),t._v(" "),s("h2",{attrs:{id:"çŠ¶æ€æå‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çŠ¶æ€æå‡"}},[t._v("#")]),t._v(" çŠ¶æ€æå‡")]),t._v(" "),s("p",[t._v("å°†å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«çš„state å‘ä¸Š ç§»åŠ¨åˆ°å®ƒä»¬æœ€è¿‘çš„å…¬å…±ç»„ä»¶ ä¸­ï¼Œå®ç°state çš„å…±äº«")]),t._v(" "),s("p",[t._v("è®©æ•°æ®è‡ªé¡¶å‘ä¸‹å•å‘æµåŠ¨ï¼Œæ‰€æœ‰ç»„ä»¶æ•°æ®æ¥è‡ªçˆ¶è¾ˆç»„ä»¶ï¼Œç”±çˆ¶è¾ˆç»„ä»¶æ¥ç»Ÿä¸€å­˜å‚¨å’Œä¿®æ”¹ï¼Œå†ä¼ å…¥å­ç»„ä»¶")]),t._v(" "),s("p",[t._v("**ä¸ºäº†ç»„ä»¶ä¹‹é—´çš„æ•°æ®æ›´åŠ å•å‘æ€§ï¼Œ**æ•°æ®çš„ä¼ è¾“ä¸Šå§‹ç»ˆå‡ºç°ä¸€å¯¹ä¸€çš„æƒ…å†µï¼Œæ–¹ä¾¿æˆ‘ä»¬åªéœ€è¦åœ¨å‘å­ç»„ä»¶ä¼ é€’æ•°æ®çš„çˆ¶ç»„ä»¶ä¸Šæ“ä½œï¼Œå¹¶ä¼ å›å­ç»„ä»¶ï¼Œæ›´æ–°æ•°æ®ï¼Œä½“ç°äº†Reactå•å‘æ•°æ®æµçš„è®¾è®¡æ€æƒ³ï¼Œå¤ç”¨ç»„ä»¶æ—¶ï¼Œç»„ä»¶æ•°æ®ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä»£ç é€»è¾‘ä¸Šä¾¿äºç®¡ç†")]),t._v(" "),s("h1",{attrs:{id:"key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#key"}},[t._v("#")]),t._v(" key")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Warning")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Each child "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" an array or iterator should have a unique "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),t._v(" prop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("ä¸ºå•¥ä½¿ç”¨")])]),t._v(" "),s("p",[t._v("keyåœ¨DOMä¸­å…ƒç´ å¢åˆ æ”¹æŸ¥æ—¶å¸®åŠ©è¯†åˆ«å“ªäº›å…ƒç´ å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦ç»™æ¯ä¸€ä¸ªå…ƒç´ èµ‹äºˆå”¯ä¸€æ ‡å¿—ï¼Œæƒ³è¦è®¿é—®keyå±æ€§å€¼ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–å±æ€§å æ˜¾æ€§ è®¿é—®")]),t._v(" "),s("p",[t._v("diffç®—æ³•å°†keyä½œä¸ºå”¯ä¸€idå¯¹æ¯”ç»„ä»¶valueç¡®å®šæ˜¯å¦æ›´æ–°")]),t._v(" "),s("p",[t._v("ä¸ä¼ keyä¹Ÿèƒ½ç”¨æ˜¯å› ä¸ºreactæ£€æµ‹å­ç»„ä»¶æ²¡æœ‰keyï¼Œé»˜è®¤å°†indexä½œä¸ºkey")]),t._v(" "),s("p",[t._v("åŸåˆ™")]),t._v(" "),s("ul",[s("li",[t._v("keyåŒï¼Œç»„ä»¶å±æ€§æœ‰å˜åŒ–ï¼Œreactåªä¼šæ›´æ–°ç»„ä»¶å˜åŒ–çš„å±æ€§")]),t._v(" "),s("li",[t._v("keyä¸åŒï¼Œé”€æ¯ä¹‹å‰çš„ç»„ä»¶ï¼Œå¯¼è‡´re-render")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä½¿ç”¨indexå­˜åœ¨å•¥é—®é¢˜")])]),t._v(" "),s("p",[t._v("spanå•çº¯å±•ç¤ºç»„ä»¶ï¼Œæ˜¯å—æ§ç»„ä»¶ï¼Œå€¼ç”±æˆ‘ä»¬å®šå¥½")]),t._v(" "),s("p",[t._v("è‹¥å­ç»„ä»¶åªæ˜¯å—æ§ç»„ä»¶ï¼Œindexä½œä¸ºkeyï¼Œè¡¨é¢å¯èƒ½ä¸ä¼šå‡ºé—®é¢˜ï¼Œå®é™…æ€§èƒ½å¯èƒ½å—å½±å“")]),t._v(" "),s("p",[t._v("åˆ—è¡¨æ•°æ®æº é¡ºåº æ”¹å˜ï¼Œ"),s("strong",[t._v("è‹¥é€‚ç”¨ index ä½œä¸ºkeyï¼Œå¯¹åº”keyä¸º0 1 2çš„ç»„ä»¶éƒ½å˜ï¼Œå­ç»„ä»¶å…¨éƒ¨ä¼šre-render")])]),t._v(" "),s("p",[s("strong",[t._v("æ³¨æ„ï¼šæœªæ·»åŠ keyï¼Œå…„å¼ŸèŠ‚ç‚¹æ›´æ–°ä½ç½®å‰åé”™ä½ä¸€ä¸ªï¼Œåç»­å…¨éƒ¨çš„æ¯”è¾ƒéƒ½ä¼š é”™è¯¯ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹æ¯”ç›®æ ‡ï¼Œæ€§èƒ½å¤§æ‰“æŠ˜æ‰£")])]),t._v(" "),s("p",[s("strong",[t._v("è‹¥ä½¿ç”¨idä½œä¸ºkeyï¼Œæ ¹æ®æ›´æ–°åŸåˆ™ï¼Œå­ç»„ä»¶å’Œkeyå‡æœªæ”¹å˜ï¼Œé¡ºåºæ”¹å˜ï¼Œæˆ‘ä»¬åªç§»åŠ¨è€Œä¸æ˜¯re-render")])]),t._v(" "),s("p",[t._v("inputæ˜¯éå—æ§ç»„ä»¶ï¼Œç”¨æˆ·å¯ä»»æ„æ”¹å˜value")]),t._v(" "),s("blockquote",[s("p",[t._v("æ­£ç¡®èµ‹å€¼key")])]),t._v(" "),s("p",[t._v("è‹¥çº¯ç²¹å±•ç¤ºæ²¡æœ‰å…¶ä»–å˜æ›´ï¼Œä½¿ç”¨indexæˆ–å…¶ä»–å€¼ä½œä¸ºkeyæ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæ²¡æœ‰diffï¼Œå°±ä¸ä¼šç”¨key")]),t._v(" "),s("ul",[s("li",[t._v("å’Œå…·ä½“å…ƒç´ ä¸€ä¸€å¯¹åº”")]),t._v(" "),s("li",[t._v("å°½åŠ›ä¸ä½¿ç”¨ index ä½œä¸ºkey")]),t._v(" "),s("li",[t._v("ä¸ä½¿ç”¨éšæœºæ•°ç­‰ åŠ ä¸Šä¸ç¨³å®šçš„keyï¼Œå¦åˆ™æ€§èƒ½å¼€é”€æ¯”ä¸åŠ keyæ›´ç³Ÿç³•")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä½¿ç”¨åœºæ™¯")])]),t._v(" "),s("p",[t._v("ç”±æ•°ç»„åŠ¨æ€åˆ›å»ºçš„å­ç»„ä»¶çš„æƒ…å†µ")]),t._v(" "),s("p",[t._v("ä¸ºä¸€ä¸ªæœ‰å¤æ‚ç¹çé€»è¾‘çš„ç»„ä»¶æ·»åŠ keyåï¼Œåç»­æ“ä½œå¯æ”¹å˜keyå€¼ï¼Œä»è€Œ è¾¾åˆ° å…ˆé”€æ¯ä¹‹å‰çš„ç»„ä»¶ï¼Œå†é‡æ–°åˆ›å»ºè¯¥ç»„ä»¶")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/3b9afe10-dd69-11eb-ab90-d9ae814b240d.png",alt:"img"}})]),t._v(" "),s("h1",{attrs:{id:"ç”Ÿå‘½å‘¨æœŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" â­ï¸ ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("ul",[s("li",[t._v("æŒ‚è½½ mountï¼Œç»„ä»¶ç¬¬ä¸€æ¬¡åœ¨ DOM æ ‘ä¸­è¢«æ¸²æŸ“")]),t._v(" "),s("li",[t._v("æ›´æ–°è¿‡ç¨‹ updateï¼Œre-render")]),t._v(" "),s("li",[t._v("å¸è½½ unmountï¼Œç»„ä»¶ä» DOMæ ‘ä¸­è¢«ç§»é™¤è¿‡ç¨‹")])]),t._v(" "),s("p",[t._v("React15ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillReceiveProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çˆ¶ç»„ä»¶çŠ¶æ€å±æ€§æ›´æ–°è§¦å‘")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨ï¼Œåœ¨æ­¤å¯æ‹¦æˆªæ›´æ–°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–æ¸²æŸ“æ—¶è°ƒç”¨ï¼ˆæŒ‚è½½å‰è°ƒç”¨ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–æ¸²æŸ“æ—¶è°ƒç”¨ï¼ˆæŒ‚è½½åè°ƒç”¨ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillUnmount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("React16")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶åˆå§‹åŒ–å’Œæ›´æ–°æ—¶è°ƒç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨ï¼Œåœ¨æ­¤å¯æ‹¦æˆªæ›´æ–°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶åˆå§‹åŒ–æ—¶è°ƒç”¨ï¼ˆæŒ‚è½½åè°ƒç”¨ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°åè°ƒç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillUnmount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"react-16å‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-16å‰"}},[t._v("#")]),t._v(" React 16å‰"),s("img",{attrs:{src:"https://interview.yuadh.com/assets/v2-48e4dd255a7690beaef4d496ac6af7ca_1440w.jpg",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"react-16å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-16å"}},[t._v("#")]),t._v(" React 16å")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/1649667264564.png",alt:"1649667264564"}})]),t._v(" "),s("p",[t._v("é¦–æ¬¡æŒ‚è½½ getDefaultPropsã€getInitialStateã€componentWillMountã€render å’Œ componentDidMount")]),t._v(" "),s("p",[t._v("å¸è½½ç»„ä»¶")]),t._v(" "),s("p",[t._v("é‡æ–°æŒ‚è½½ç»„ä»¶ getInitialStateã€componentWillMountã€render å’Œ componentDidMountï¼Œä½†å¹¶ä¸æ‰§è¡Œ getDefaultProps")]),t._v(" "),s("p",[t._v("æ›´æ–°ç»„ä»¶ componentWillReceivePropsã€shouldComponentUpdateã€componentWillUpdateã€render å’Œ componentDidUpdate")]),t._v(" "),s("h2",{attrs:{id:"constructor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#constructor"}},[t._v("#")]),t._v(" constructor")]),t._v(" "),s("p",[t._v("å®ä¾‹è¿‡ç¨‹ä¸­è‡ªåŠ¨è°ƒç”¨ï¼Œæ–¹æ³•å†…éƒ¨é€šè¿‡superå…³é”®å­—è·å–çˆ¶ç»„ä»¶çš„props")]),t._v(" "),s("ul",[s("li",[t._v("åˆå§‹åŒ–state")]),t._v(" "),s("li",[t._v("thisä¸ŠæŒ‚è½½æ–¹æ³•")])]),t._v(" "),s("h2",{attrs:{id:"_16æ–°å¢2ä¸ª"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16æ–°å¢2ä¸ª"}},[t._v("#")]),t._v(" 16æ–°å¢2ä¸ª")]),t._v(" "),s("h3",{attrs:{id:"getderivedstatefromprops"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getderivedstatefromprops"}},[t._v("#")]),t._v(" getDerivedStateFromProps")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“ä¼ å…¥çš„typeå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ›´æ–°state")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦åˆ™ï¼Œå¯¹äºstateä¸è¿›è¡Œä»»ä½•æ“ä½œ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("ul",[s("li",[t._v("é™æ€æ–¹æ³•(çº¯å‡½æ•°)")]),t._v(" "),s("li",[t._v("åªèƒ½é€šè¿‡preState è€Œä¸æ˜¯ prevProps ä½œå¯¹æ¯”ï¼Œä¿è¯äº†state å’Œ props é—´çš„ç®€å•å…³ç³»åŠä¸éœ€è¦å¤„ç†ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ prevProps ä¸ºç©ºçš„æƒ…å†µ")])]),t._v(" "),s("p",[t._v("æ‰§è¡Œæ—¶æœºï¼šç»„ä»¶åˆ›å»ºå’Œæ›´æ–°é˜¶æ®µï¼Œä¸è®ºæ˜¯"),s("code",[t._v("props")]),t._v("å˜åŒ–è¿˜æ˜¯"),s("code",[t._v("state")]),t._v("å˜åŒ–ï¼Œä¹Ÿä¼šè°ƒç”¨")]),t._v(" "),s("p",[t._v("åœ¨æ¯æ¬¡"),s("code",[t._v("render")]),t._v("æ–¹æ³•å‰è°ƒç”¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå³å°†æ›´æ–°çš„"),s("code",[t._v("props")]),t._v("ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå½“å‰ç»„ä»¶çš„"),s("code",[t._v("state")]),t._v("ï¼Œå¯ä»¥æ¯”è¾ƒ"),s("code",[t._v("props")]),t._v(" å’Œ "),s("code",[t._v("state")]),t._v("æ¥åŠ ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œé˜²æ­¢æ— ç”¨çš„stateæ›´æ–°")]),t._v(" "),s("p",[t._v("è¯¥æ–¹æ³•è¿”å›æ–°å¯¹è±¡æ›´æ–°stateï¼Œä¸æ›´æ–°åˆ™è¿”å› null")]),t._v(" "),s("p",[t._v("é™æ€æ–¹æ³•é˜»æ­¢æ“ä½œinstanceï¼Œé˜»æ­¢å¤šæ¬¡æ“ä½œsetStateï¼Œæ²¡æœ‰instanceå°±ä¸èƒ½æ“ä½œDOM")]),t._v(" "),s("p",[t._v("é€»è¾‘åº”è¯¥ä¼šå¾ˆç®€å•ï¼Œå°±ä¸ä¼šå‡ºé”™ï¼Œä¸å‡ºé”™å°±ä¸ä¼šæ‰“æ–­DFSè¿‡ç¨‹")]),t._v(" "),s("p",[t._v("getDerivedStateFromProps() contains the following legacy lifecycles:\ncomponentWillMount\ncomponentWillReceiveProps\ncomponentWillUpdate")]),t._v(" "),s("blockquote",[s("p",[t._v("React 16.4åå¯¹getDerivedStateFromPropsåšäº†å¾®è°ƒã€‚åœ¨>=16.4ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œç»„ä»¶ä»»ä½•çš„æ›´æ–°æµç¨‹éƒ½ä¼šè§¦å‘getDerivedStateFromPropsï¼Œè€Œåœ¨16.4ä»¥å‰ï¼Œåªæœ‰çˆ¶ç»„ä»¶çš„æ›´æ–°ä¼šè§¦å‘è¯¥ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("p",[t._v("ä¸å’‹ä½¿ç”¨")])]),t._v(" "),s("h3",{attrs:{id:"getsnapshotbeforeupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getsnapshotbeforeupdate"}},[t._v("#")]),t._v(" getSnapshotBeforeUpdate")]),t._v(" "),s("p",[t._v("è¿”å€¼Snapshotå€¼(é»˜è®¤ä¸º null )ï¼Œä½œä¸ºcomponentDidUpdateç¬¬ä¸‰ä¸ªå‚æ•°")]),t._v(" "),s("p",[t._v("è¿è¡Œåœ¨renderåï¼Œè¡¨ç¤ºADOMæ„å»ºå®Œæˆï¼Œä½†è¿˜æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ï¼Œå¯ç†è§£ä¸ºæ›´æ–°å‰çš„å¿«ç…§ï¼Œç”¨æ¥åšä¸€äº›é™„åŠ çš„DOMæ“ä½œ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#enter getSnapshotBeforeUpdate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#enter componentDidUpdate snapshot = '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("è·å–ç»„ä»¶æ›´æ–°å‰çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ç»„ä»¶çš„æ»šåŠ¨ä½ç½®ä¹‹ç±»")]),t._v(" "),s("h2",{attrs:{id:"componentdidmount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentdidmount"}},[t._v("#")]),t._v(" componentDidMount")]),t._v(" "),s("p",[t._v("ç»„ä»¶æŒ‚è½½åˆ°ADOMèŠ‚ç‚¹åæ‰§è¡Œï¼Œrenderä¹‹åæ‰§è¡Œ")]),t._v(" "),s("ul",[s("li",[t._v("æ‰§è¡Œæ•°æ®è·å–ï¼Œäº‹ä»¶ç›‘å¬ç­‰æ“ä½œ")])]),t._v(" "),s("p",[t._v("æ­¤å¤„ è°ƒç”¨ setState è§¦å‘ä¸€æ¬¡é¢å¤–çš„æ¸²æŸ“ï¼Œå®ƒ "),s("strong",[t._v("åœ¨æµè§ˆå™¨åˆ·æ–°å±å¹•å‰æ‰§è¡Œï¼æ‰€ä»¥ç”¨æˆ·æ²¡æœ‰æ„ŸçŸ¥")]),t._v("ï¼Œä½†ä¼šå¸¦æ¥ä¸€å®šæ€§èƒ½é—®é¢˜")]),t._v(" "),s("p",[t._v("å’Œ componentWillMount ä¸€æ ·ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€æ¬¡ è°ƒç”¨ï¼")]),t._v(" "),s("h2",{attrs:{id:"shouldcomponentdidmount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldcomponentdidmount"}},[t._v("#")]),t._v(" shouldComponentDidMount")]),t._v(" "),s("p",[t._v("å‘ŠçŸ¥ç»„ä»¶æœ¬èº«åŸºäºå½“å‰çš„propså’Œstateæ˜¯å¦éœ€è¦ re-renderï¼Œé»˜è®¤è¿”å›true")]),t._v(" "),s("p",[t._v("æ‰§è¡Œæ—¶æœºï¼šåˆ°æ–°çš„props/state è°ƒç”¨ï¼Œè¿”å›true/falseå‘ŠçŸ¥ç»„ä»¶æ›´æ–°ä¸å¦")]),t._v(" "),s("p",[t._v("ä¸€èˆ¬æƒ…å†µï¼Œä¸å»ºè®®åœ¨è¯¥å‘¨æœŸæ–¹æ³•ä¸­æ·±å±‚æ¯”è¾ƒï¼Œå½±å“æ•ˆç‡")]),t._v(" "),s("p",[t._v("åŒæ—¶ä¹Ÿä¸èƒ½è°ƒç”¨"),s("code",[t._v("setState")]),t._v("ï¼Œä¼šå¯¼è‡´æ— é™å¾ªç¯æ›´æ–°")]),t._v(" "),s("h2",{attrs:{id:"componentdidupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentdidupdate"}},[t._v("#")]),t._v(" componentDidUpdate")]),t._v(" "),s("p",[t._v("ADOMæŒ‚è½½åˆ°é¡µé¢åè¿è¡Œ")]),t._v(" "),s("p",[t._v("å¯æ ¹æ®å‰åçš„"),s("code",[t._v("props")]),t._v("å’Œ"),s("code",[t._v("state")]),t._v("å˜åŒ–æ“ä½œï¼Œå¦‚è·å–æ•°æ®ï¼Œä¿®æ”¹"),s("code",[t._v("DOM")]),t._v("ç­‰")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"componentwillunmount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentwillunmount"}},[t._v("#")]),t._v(" componentWillUnmount")]),t._v(" "),s("p",[t._v("ç»„ä»¶å¸è½½å‰ï¼Œæ¸…ç†å‰¯ä½œç”¨")]),t._v(" "),s("p",[t._v("ä¸€æ—¦ä¸€ä¸ªç»„ä»¶å®ä¾‹è¢«å¸è½½ï¼Œä¸ä¼šè¢«å†æ¬¡æŒ‚è½½ï¼Œåªå¯èƒ½è¢«é‡æ–°åˆ›å»º")]),t._v(" "),s("h2",{attrs:{id:"å‡†å¤‡åºŸå¼ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡åºŸå¼ƒ"}},[t._v("#")]),t._v(" å‡†å¤‡åºŸå¼ƒ")]),t._v(" "),s("ol",[s("li",[t._v("è¢«åºŸå¼ƒçš„3ä¸ªæ–¹æ³•éƒ½åœ¨renderä¹‹å‰ï¼Œå› ä¸ºfiberå‡ºç°ï¼Œå¯èƒ½å› ä¸ºé«˜ä¼˜å…ˆçº§ä»»åŠ¡ æ‰“æ–­ç°æœ‰ä»»åŠ¡å¯¼è‡´å®ƒä»¬è¢«æ‰§è¡Œå¤šæ¬¡")]),t._v(" "),s("li",[t._v("Reactæƒ³çº¦æŸä½¿ç”¨è€…ï¼Œå¥½çš„æ¡†æ¶èƒ½è®©äººå†™å‡ºæ˜“ç»´æŠ¤å’Œæ‰©å±•çš„ä»£ç ")])]),t._v(" "),s("h3",{attrs:{id:"componentwillmount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentwillmount"}},[t._v("#")]),t._v(" componentWillMount")]),t._v(" "),s("p",[t._v("é£é™©å¾ˆé«˜ï¼Œé¸¡è‚‹")]),t._v(" "),s("p",[t._v("æ­¤å‡½æ•°å¯ä»¥ä½¿ç”¨ componentDidMount å’Œ constructor ä»£æ›¿")]),t._v(" "),s("p",[t._v("ä¸ºäº†çº¦æŸå¼€å‘è€…ï¼Œç›´æ¥å¹²æ‰äº†æ­¤ API")]),t._v(" "),s("h3",{attrs:{id:"componentwillreceiveprops-nextprops"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentwillreceiveprops-nextprops"}},[t._v("#")]),t._v(" componentWillReceiveProps(nextProps)")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªAPIå¹¶éè¶Šå¤æ‚æ‰è¶Šä¼˜ç§€")]),t._v(" "),s("p",[t._v("props å˜åŒ–æ‰§è¡Œï¼Œåˆå§‹åŒ–render æ—¶ä¸æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("è€ç‰ˆæœ¬Reactä¸­ï¼Œè‹¥ç»„ä»¶è‡ªèº«çš„æŸä¸ªstateè·Ÿå…¶propså¯†åˆ‡ç›¸å…³ï¼Œæ²¡æœ‰ä¸€ç§ä¼˜é›…çš„æ–¹å¼å¤„ç†stateï¼Œè€Œæ˜¯éœ€è¦åœ¨ componentWillReceiveProps ä¸­åˆ¤æ–­å‰å2ä¸ªpropsæ˜¯å¦ç›¸åŒï¼Œè‹¥ä¸åŒå†å°†æ–°çš„propsæ›´æ–°åˆ°ç›¸åº”çš„stateä¸Š")]),t._v(" "),s("p",[t._v("é€šè¿‡ setStateæ›´æ–°ç»„ä»¶çŠ¶æ€ï¼Œæ—§å±æ€§é€šè¿‡this.props  è·å¾—ï¼Œæ­¤å¤„è°ƒç”¨æ›´æ–°çŠ¶æ€æ˜¯å®‰å…¨çš„ï¼Œä¸ä¼šè§¦å‘é¢å¤–render")]),t._v(" "),s("p",[s("strong",[t._v("ä¼˜ç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("å¯ä»¥åœ¨å­ç»„ä»¶çš„renderå‡½æ•°æ‰§è¡Œå‰è·å–æ–°çš„propsï¼Œè¿›è€Œæ›´æ–°å­ç»„ä»¶è‡ªå·±çš„state")]),t._v(" "),s("li",[t._v("å¯ä»¥å°†æ•°æ®è¯·æ±‚æ”¾åœ¨è¿™é‡Œæ‰§è¡Œï¼Œéœ€è¦çš„å‚æ•°ä¸­nextPropsè·å–ï¼Œä¸å¿…å°†æ‰€æœ‰è¯·æ±‚éƒ½æ”¾åœ¨çˆ¶ç»„ä»¶ä¸­")])]),t._v(" "),s("p",[s("strong",[t._v("ç¼ºç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("ç ´åstateæ•°æ®çš„å•ä¸€æ•°æ®æºï¼Œå¯¼è‡´ç»„ä»¶çŠ¶æ€ä¸å¯é¢„æµ‹")]),t._v(" "),s("li",[t._v("å¢åŠ ç»„ä»¶çš„é‡ç»˜æ¬¡æ•°")])]),t._v(" "),s("h3",{attrs:{id:"componentwillupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentwillupdate"}},[t._v("#")]),t._v(" componentWillUpdate")]),t._v(" "),s("blockquote",[s("p",[t._v("componentWillUpdate( nextProps, nextState )")])]),t._v(" "),s("p",[t._v("æŒ¡äº†æ–°çš„Fiberæ¶æ„çš„è·¯")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€æ¬¡æ›´æ–°å¯èƒ½è¢«è°ƒç”¨å¤šæ¬¡ï¼Œå› ä¸ºä¸€æ¬¡æ›´æ–°ä¸­ componentDidUpdate åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å°†åŸå…ˆå†™åœ¨ componentWillUpdate ä¸­çš„å›è°ƒç§»è‡³componentDidUpdate å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜")]),t._v(" "),s("li",[t._v("è·å– DOM å…ƒç´ çŠ¶æ€ï¼Œfiberä¸­renderå¯è¢«æ‰“æ–­ï¼Œå¯èƒ½åœ¨WillMountä¸­è·å–åˆ°çš„å…ƒç´ çŠ¶æ€å¾ˆå¯èƒ½ä¸å®é™…éœ€è¦çš„ä¸åŒï¼Œè¿™ä¸ªé€šå¸¸å¯ä»¥ä½¿ç”¨getSnapshotBeforeUpdateè§£å†³")])]),t._v(" "),s("p",[t._v("ç”±getSnapshotBeforeUpdate(prevProps,prevState) ä»£æ›¿ï¼Œåœ¨æœ€ç»ˆçš„renderä¹‹å‰è°ƒç”¨")]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸ºä½•è¦åºŸå¼ƒå®ƒä»¬ï¼Ÿ")])]),t._v(" "),s("p",[t._v("åœ¨Fiberæœºåˆ¶ä¸‹ï¼Œrenderé˜¶æ®µå…è®¸è¢«æš‚åœã€ç»ˆæ­¢å’Œé‡å¯")]),t._v(" "),s("p",[t._v("**å¯¼è‡´renderé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸéƒ½å¯èƒ½é‡å¤æ‰§è¡Œã€‚**è¿™å‡ ä¸ªæ–¹æ³•å¸¸å¹´è¢«æ»¥ç”¨ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨é£é™©ã€‚æ¯”å¦‚setState fetchå‘èµ·è¯·æ±‚ æ“ä½œADOMç­‰")]),t._v(" "),s("p",[t._v("è¿™äº›æ“ä½œå®Œå…¨å¯ä»¥è½¬ç§»åˆ°å…¶ä»–æ–¹æ³•ä¸­åš")]),t._v(" "),s("p",[t._v("å³ä½¿æ²¡æœ‰å¼€å¯å¼‚æ­¥æ¸²æŸ“ï¼ŒRecat15ä¸­ä¹Ÿå¯èƒ½å¯¼è‡´ä¸€äº›ä¸¥é‡çš„é—®é¢˜ï¼Œæ¯”å¦‚componentWillReceivePropså’ŒcomponentWillUpdateé‡Œæ»¥ç”¨setStateå¯¼è‡´é‡å¤æ¸²æŸ“ï¼Œæ­»å¾ªç¯")]),t._v(" "),s("p",[t._v("é¦–å…ˆç¡®ä¿äº†Fiberæœºåˆ¶ä¸‹æ•°æ®å®‰å…¨æ€§ï¼ŒåŒæ—¶ä¹Ÿç¡®ä¿ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è¡Œä¸ºæ›´çº¯ç²¹")]),t._v(" "),s("h2",{attrs:{id:"setstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate"}},[t._v("#")]),t._v(" ğŸ”¥ setState")]),t._v(" "),s("blockquote",[s("p",[t._v("componentWillMountä¸­setState")])]),t._v(" "),s("p",[t._v("æ— æ„ä¹‰ï¼Œåº”å½“å°†setStateæ”¾åœ¨constructorä¸­ï¼ˆåˆå§‹åŒ–stateï¼‰")]),t._v(" "),s("p",[t._v("ç»„ä»¶åªæŒ‚è½½ä¸€æ¬¡ï¼ŒcomponentWillMountä¸­çš„setStateå›åˆconstructorä¸­stateåˆå¹¶æ‰§è¡Œ")]),t._v(" "),s("blockquote",[s("p",[t._v("componentDidMountä¸­setState")])]),t._v(" "),s("p",[t._v("å¯¼è‡´ç»„ä»¶åˆå§‹åŒ–æ—¶è§¦å‘æ›´æ–°ï¼Œæ¸²æŸ“2æ¬¡")]),t._v(" "),s("blockquote",[s("p",[t._v("componentWillUnmountä¸­setState")])]),t._v(" "),s("p",[t._v("ä¸ä¼šæ›´æ–°ï¼Œæ— æ„ä¹‰")]),t._v(" "),s("blockquote",[s("p",[t._v("shouldComponentUpdateå’ŒcomponentWillUpdateä¸­setState")])]),t._v(" "),s("p",[s("strong",[t._v("ç¦æ­¢")])]),t._v(" "),s("p",[t._v("é€ æˆæ­»å¾ªç¯")]),t._v(" "),s("p",[t._v("setStateåä¼šå†æ¬¡è§¦å‘è¿™2ä¸ªå‡½æ•°ï¼Œç„¶ååˆè§¦å‘setState")]),t._v(" "),s("blockquote",[s("p",[t._v("componentDidUpdateä¸­setState")])]),t._v(" "),s("p",[t._v("å¯ä»¥")]),t._v(" "),s("p",[t._v("ç»„ä»¶åˆšæ›´æ–°å®Œæˆï¼Œåˆè¦æ›´æ–°ä¸€æ¬¡ï¼Œè¿ç»­renderä¸¤æ¬¡")]),t._v(" "),s("p",[t._v("å’ŒcomponentDidMountç±»ä¼¼")]),t._v(" "),s("blockquote",[s("p",[t._v("componentWillReceivePropsä¸­setState")])]),t._v(" "),s("p",[t._v("å¯ä»¥")]),t._v(" "),s("p",[t._v("ä¸ä¼šre-renderï¼Œå› ä¸ºåªæœ‰ propså˜åŒ–æ‰ä¼šè§¦å‘ï¼ŒsetStateä¸ä¼šé€ æˆæ­»å¾ªç¯")]),t._v(" "),s("h1",{attrs:{id:"ç»„ä»¶é€šä¿¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶é€šä¿¡"}},[t._v("#")]),t._v(" ğŸ’š ç»„ä»¶é€šä¿¡")]),t._v(" "),s("ul",[s("li",[t._v("çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’")]),t._v(" "),s("li",[t._v("å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’")]),t._v(" "),s("li",[t._v("å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡")]),t._v(" "),s("li",[t._v("çˆ¶ç»„ä»¶å‘åä»£ç»„ä»¶ä¼ é€’")]),t._v(" "),s("li",[t._v("éå…³ç³»ç»„ä»¶ä¼ é€’")])]),t._v(" "),s("blockquote",[s("p",[t._v("çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’")])]),t._v(" "),s("p",[t._v("Reactçš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„æ–¹å¼ï¼Œ"),s("strong",[s("u",[t._v("props")])])]),t._v(" "),s("p",[t._v("çˆ¶å­é€šä¿¡åº•å±‚å¦‚ä½•å®ç°?")]),t._v(" "),s("blockquote",[s("p",[t._v("å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’")])]),t._v(" "),s("p",[t._v("çˆ¶ç»„ä»¶å‘å­ç»„ä»¶**"),s("u",[t._v("ä¼ ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå‡½æ•°çš„å›è°ƒæ‹¿åˆ°å­ç»„ä»¶ä¼ é€’çš„å€¼")]),t._v("**")]),t._v(" "),s("blockquote",[s("p",[t._v("å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡")])]),t._v(" "),s("p",[t._v("çˆ¶ç»„ä»¶ä½œä¸º**"),s("u",[t._v("ä¸­é—´å±‚å®ç°æ•°æ®äº’é€š")]),t._v("**")]),t._v(" "),s("blockquote",[s("p",[t._v("çˆ¶ç»„ä»¶å‘åä»£ç»„ä»¶ä¼ é€’")])]),t._v(" "),s("p",[t._v("æœ€æ™®é€šçš„äº‹æƒ…ï¼Œåƒå…¨å±€æ•°æ®ä¸€æ ·")]),t._v(" "),s("p",[s("strong",[s("u",[t._v("ä½¿ç”¨contextå¯å…±äº«æ•°æ®ï¼Œå…¶ä»–æ•°æ®éƒ½èƒ½è¯»å–å¯¹åº”çš„æ•°æ®")])])]),t._v(" "),s("blockquote",[s("p",[t._v("éå…³ç³»ç»„ä»¶ä¼ é€’")])]),t._v(" "),s("p",[t._v("ç»„ä»¶é—´å…³ç³»ç±»å‹å¤æ‚ï¼Œ"),s("strong",[s("u",[t._v("å¯ä»¥å°†æ•°æ®è¿›è¡Œä¸€ä¸ªå…¨å±€èµ„æºç®¡ç†ï¼Œä»è€Œå®ç°é€šä¿¡ï¼Œä¾‹å¦‚redux dva")])])]),t._v(" "),s("h1",{attrs:{id:"æœ‰-æ— çŠ¶æ€ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ‰-æ— çŠ¶æ€ç»„ä»¶"}},[t._v("#")]),t._v(" ğŸ’™æœ‰/æ— çŠ¶æ€ç»„ä»¶")]),t._v(" "),s("h2",{attrs:{id:"æœ‰çŠ¶æ€ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ‰çŠ¶æ€ç»„ä»¶"}},[t._v("#")]),t._v(" æœ‰çŠ¶æ€ç»„ä»¶")]),t._v(" "),s("p",[s("strong",[t._v("ç‰¹ç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("æ˜¯ç±»ç»„ä»¶")]),t._v(" "),s("li",[t._v("æœ‰ç»§æ‰¿")]),t._v(" "),s("li",[t._v("æœ‰this")]),t._v(" "),s("li",[t._v("æœ‰ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("li",[t._v("ä½¿ç”¨è¾ƒå¤šï¼Œæ˜“è§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°")]),t._v(" "),s("li",[t._v("å†…éƒ¨ä½¿ç”¨stateï¼Œæ ¹æ®å¤–éƒ¨ç»„ä»¶ä¼ å…¥çš„propså’Œè‡ªèº«stateæ¸²æŸ“")])]),t._v(" "),s("p",[s("strong",[t._v("ä½¿ç”¨åœºæ™¯")])]),t._v(" "),s("ul",[s("li",[t._v("éœ€è¦ä½¿ç”¨çŠ¶æ€çš„")]),t._v(" "),s("li",[t._v("éœ€è¦çŠ¶æ€æ“ä½œç»„æˆçš„")])]),t._v(" "),s("p",[s("strong",[t._v("æ€»ç»“")])]),t._v(" "),s("p",[t._v("å¯ç»´æŠ¤è‡ªå·±çš„stateï¼Œå¯ä»¥å¯¹ç»„ä»¶åšæ›´å¤šçš„æ§åˆ¶")]),t._v(" "),s("h2",{attrs:{id:"æ— çŠ¶æ€ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ— çŠ¶æ€ç»„ä»¶"}},[t._v("#")]),t._v(" æ— çŠ¶æ€ç»„ä»¶")]),t._v(" "),s("p",[s("strong",[t._v("ç‰¹ç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("ä¸ä¾èµ–è‡ªèº«state")]),t._v(" "),s("li",[t._v("å¯ä»¥æ˜¯ç±»ç»„ä»¶æˆ–å‡½æ•°ç»„ä»¶")]),t._v(" "),s("li",[t._v("å¯é¿å…ä½¿ç”¨this")]),t._v(" "),s("li",[t._v("ç»„ä»¶å†…éƒ¨ä¸ç»´æŠ¤stateï¼Œpropsæ”¹å˜ï¼Œç»„ä»¶re-render")])]),t._v(" "),s("p",[s("strong",[t._v("ä½¿ç”¨åœºæ™¯")])]),t._v(" "),s("p",[t._v("ç»„ä»¶ä¸éœ€è¦ç®¡ç†state")]),t._v(" "),s("p",[s("strong",[t._v("ä¼˜ç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("ç®€åŒ–ä»£ç  ä¸“æ³¨render")]),t._v(" "),s("li",[t._v("ç»„ä»¶ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œæ— ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("li",[t._v("è§†å›¾å’Œæ•°æ®è§£è€¦")])]),t._v(" "),s("p",[s("strong",[t._v("ç¼ºç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("æ— æ³•ä½¿ç”¨ref")]),t._v(" "),s("li",[t._v("æ— ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("li",[t._v("æ— æ³•æ§åˆ¶ç»„ä»¶re-render")])]),t._v(" "),s("blockquote",[s("p",[t._v("å½“ä¸€ä¸ªç»„ä»¶ä¸éœ€è¦ç®¡ç†è‡ªèº«çŠ¶æ€æ—¶ï¼Œå°±æ˜¯æ— çŠ¶ç»„ä»¶ï¼Œåº”è¯¥ä¼˜å…ˆè®¾è®¡ä¸ºå‡½æ•°ç»„ä»¶ï¼Œæ¯”å¦‚å®šä¹‰çš„"),s("Button")],1)]),t._v(" "),s("h1",{attrs:{id:"å—-éå—æ§ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å—-éå—æ§ç»„ä»¶"}},[t._v("#")]),t._v(" å—/éå—æ§ç»„ä»¶")]),t._v(" "),s("h2",{attrs:{id:"å—æ§ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å—æ§ç»„ä»¶"}},[t._v("#")]),t._v(" å—æ§ç»„ä»¶")]),t._v(" "),s("p",[t._v("è¡¨å•çŠ¶æ€å˜åŒ–ï¼Œè§¦å‘onChangeï¼Œæ›´æ–°state")]),t._v(" "),s("p",[t._v("å—æ§ç»„ä»¶ä¸­ï¼Œç»„ä»¶æ¸²æŸ“å‡ºçš„çŠ¶æ€å’Œvalue/checkedå±æ€§ç›¸å¯¹åº”ï¼Œreacté€šè¿‡è¿™ç§æ–¹å¼æ¶ˆé™¤ç»„ä»¶çš„å±€éƒ¨çŠ¶æ€ï¼Œä½¿ç»„ä»¶å˜å¾—å¯æ§")]),t._v(" "),s("p",[s("strong",[t._v("ç¼ºç‚¹")])]),t._v(" "),s("p",[t._v("å¤šä¸ªè¾“å…¥æ¡†éœ€è¦è·å–åˆ°å…¨éƒ¨å€¼æ—¶ï¼Œéœ€è¦æ¯ä¸ªéƒ½ç¼–å†™äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»£ç è‡ƒè‚¿")]),t._v(" "),s("p",[t._v("åæ¥ï¼Œå‡ºç°äº†éå—æ§ç»„ä»¶")]),t._v(" "),s("h2",{attrs:{id:"éå—æ§ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éå—æ§ç»„ä»¶"}},[t._v("#")]),t._v(" éå—æ§ç»„ä»¶")]),t._v(" "),s("p",[t._v("Inputç»„ä»¶æœ‰å†…éƒ¨valueï¼Œæ²¡æœ‰ä»»ä½•å±æ€§â€”â€”éå—æ§ç»„ä»¶ï¼Œç»„ä»¶çŠ¶æ€ä¸å—å¤–éƒ¨ç¯å¢ƒæ§åˆ¶ï¼Œè€Œæ˜¯å°é—­åœ¨ç»„ä»¶å†…éƒ¨")]),t._v(" "),s("p",[t._v("è‹¥æŠŠstateçš„valueæ”¾åˆ°propsä¸­â€”â€”å˜æˆ å—æ§ç»„ä»¶(æ­¤æ—¶inputå€¼å–å†³äºå¤–éƒ¨ä¼ é€’çš„props)")]),t._v(" "),s("p",[t._v("è¡¨å•ç»„ä»¶æ²¡æœ‰value props")]),t._v(" "),s("p",[t._v("å¯ä½¿ç”¨ref ä» DOM ä¸­è·å–è¡¨å•å€¼ï¼Œè€Œä¸æ˜¯ç¼–å†™äº‹ä»¶å¤„ç†å‡½æ•°")]),t._v(" "),s("p",[t._v("éå—æ§ç»„ä»¶å¯ä»¥å‡å°‘ä»£ç é‡")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/640.jpeg",alt:"å›¾ç‰‡"}})]),t._v(" "),s("h1",{attrs:{id:"ç±»-å‡½æ•°ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç±»-å‡½æ•°ç»„ä»¶"}},[t._v("#")]),t._v(" ç±»/å‡½æ•°ç»„ä»¶")]),t._v(" "),s("p",[s("strong",[t._v("ç›¸åŒç‚¹")])]),t._v(" "),s("p",[t._v("åŸºæœ¬å¯è®¤ä¸ºä¸¤è€…å®Œå…¨ä¸€è‡´")]),t._v(" "),s("p",[s("strong",[t._v("ä¸åŒç‚¹")])]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶ æ˜¯ æ— çŠ¶æ€ç»„ä»¶ çš„æ€æƒ³")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶ æ— æ³•ä½¿ç”¨ stateï¼Œæ²¡æœ‰ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œæ¥æ”¶ propsï¼Œæ¸²æŸ“ DOM")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶æ²¡æœ‰ this")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶ æ›´æ˜“ç†è§£")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶æ€§èƒ½ä¼˜åŒ–ä¾é  React.memoç¼“å­˜æ¸²æŸ“ç»“æœå®ç°")]),t._v(" "),s("p",[t._v("ç±»ç»„ä»¶ åŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¸»æ‰“ æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¼•ç”¨é€æ˜ç­‰ç‰¹ç‚¹")]),t._v(" "),s("p",[t._v("ç±»ç»„ä»¶æ€§èƒ½ä¼˜åŒ–ä¾é shouldC omponentUpdateé˜»æ–­æ¸²æŸ“å®ç°")]),t._v(" "),s("h2",{attrs:{id:"classã€hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#classã€hooks"}},[t._v("#")]),t._v(" classã€hooks")]),t._v(" "),s("p",[t._v("å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ")]),t._v(" "),s("p",[t._v("classå å†…å­˜å•Šï¼Œå†™äº†classå†™hookså¯ä»¥å¿«é€Ÿåˆ‡æ¢ï¼Œä½†æ˜¯å†™äº†hookså†å†™classå°±ä¸å¾—è¡Œï¼Œå› ä¸ºæ‰€æœ‰æœ€ç»ˆå›å½’çš„æ˜¯C++ C å’Œæ“ä½œç³»ç»Ÿï¼Œclassç›¸å½“äºæä¾›äº†ä¸€ä¸ªæ¡†æ¡†ï¼Œçº¦æŸæˆ‘ä»¬ä»£ç çš„ç¼–å†™")]),t._v(" "),s("p",[t._v("hookså°±æœ‰ç‚¹æ”¾é£è‡ªæˆ‘ï¼Œå› ä¸ºæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸åƒclassæ˜¯ä¸€ä¸ªç±»ï¼Œå®ä¾‹ æœ‰é™æ€æ–¹æ³•ï¼Œå ç”¨å†…å­˜ï¼Œè€Œå‡½æ•°å¼å°±æ˜¯è¿è¡Œå®Œå†…å­˜å³é‡Šæ”¾ï¼Œéœ€è¦ä½¿ç”¨çš„å˜é‡å¾—ä¸åˆ°ä¸€ä¸ªåˆé€‚çš„ä¿å­˜ï¼Œäºæ˜¯åªæœ‰ä½¿ç”¨é—­åŒ…æ–¹å¼ï¼Œä½†æ˜¯é—­åŒ…å­˜åœ¨æŒºå¤šçš„é—®é¢˜ï¼Œæ¶‰åŠåˆ°å†…å­˜æ³„æ¼ç­‰ï¼Œè€Œä¸”å­˜åœ¨å¾ˆå¤šé—­åŒ…ï¼Œ")]),t._v(" "),s("p",[t._v("é“¾å¼ç¼–ç¨‹ï¼Ÿ")]),t._v(" "),s("p",[t._v("å¦‚æœæœ‰bugæ€ä¹ˆè°ƒè¯•ï¼Œå¤§å®¶éƒ½æ˜¯å­¦ç”Ÿï¼Œé¦–å…ˆæ˜¯ä¸ºäº†æé«˜è‡ªå·±å‘ç°é—®é¢˜å¹¶è§£å†³é—®é¢˜çš„èƒ½åŠ›")]),t._v(" "),s("p",[t._v("Reactå­˜åœ¨å…¼å®¹æ€§ï¼Œä¹‹æ‰€ä»¥ä¸å‡çº§antdç‰ˆæœ¬ï¼Œä¸ºäº†å…¼å®¹idæµè§ˆå™¨")]),t._v(" "),s("h1",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" ğŸ’š  æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mp.weixin.qq.com/s/TbB91lPQ-g2223Stqt8sJg",target:"_blank",rel:"noopener noreferrer"}},[t._v("React æ€§èƒ½ä¼˜åŒ–çš„é‚£äº›äº‹å„¿"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"å¡é¡¿åŸå› "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¡é¡¿åŸå› "}},[t._v("#")]),t._v(" å¡é¡¿åŸå› ")]),t._v(" "),s("p",[t._v("renderæ—¶ä¼šæ ¹æ®ç°æœ‰renderäº§ç”Ÿæ–°çš„jsxæ•°æ®å’Œç°æœ‰fiberRootå¯¹æ¯”ï¼Œæ‰¾åˆ°ä¸åŒåœ°æ–¹ï¼Œç”Ÿæˆæ–°çš„workInProgressï¼Œè¿›è€Œåœ¨æŒ‚è½½é˜¶æ®µæŠŠæ–°çš„workInProgressäº¤ç»™æœåŠ¡å™¨æ¸²æŸ“")]),t._v(" "),s("p",[t._v("è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸ºäº†è®©åº•å±‚æœºåˆ¶æ›´åŠ é«˜æ•ˆå¿«é€Ÿï¼Œreactåšäº†å¤§é‡ä¼˜åŒ–ï¼Œè®¾ç«‹ä»»åŠ¡ä¼˜å…ˆçº§ã€å¼‚æ­¥è°ƒåº¦ã€diffç®—æ³•å’Œæ—¶é—´åˆ†ç‰‡ç­‰")]),t._v(" "),s("p",[t._v("æ•´ä¸ªé“¾è·¯ä¸ºäº†å¿«é€Ÿé«˜æ•ˆå®Œæˆä»æ•°æ®æ›´æ–°åˆ°é¡µé¢æ¸²æŸ“çš„æ•´ä½“æµç¨‹")]),t._v(" "),s("p",[t._v("ä¸ºäº†ä¸è®©é€’å½’éå†å¯»æ‰¾æ‰€æœ‰æ›´æ–°èŠ‚ç‚¹å¤ªå¤§è€Œå ç”¨æµè§ˆå™¨èµ„æºï¼ŒReactå‡çº§äº†fiberæ¶æ„ï¼Œæ—¶é—´åˆ†ç‰‡ï¼Œå®ç°å¢é‡æ›´æ–°")]),t._v(" "),s("p",[t._v("diffâ€”â€”é«˜æ•ˆæŸ¥æ‰¾æ‰€æœ‰æ›´æ–°èŠ‚ç‚¹")]),t._v(" "),s("p",[t._v("ä»»åŠ¡è°ƒåº¦ä¼˜å…ˆçº§â€”â€”é«˜æ•ˆæ›´æ–°")]),t._v(" "),s("p",[t._v("ä¼˜åŒ–â€”â€”æ§åˆ¶åˆ·æ–°æ¸²æŸ“çš„æ³¢åŠèŒƒå›´ï¼Œåªè®©è¯¥æ›´æ–°çš„æ›´æ–°ï¼Œæ›´æ–°é“¾è·¯å°½å¿«èµ°å®Œ")]),t._v(" "),s("h2",{attrs:{id:"ä¼˜åŒ–åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–åœºæ™¯"}},[t._v("#")]),t._v(" ä¼˜åŒ–åœºæ™¯")]),t._v(" "),s("ul",[s("li",[t._v("çˆ¶ç»„ä»¶æ›´æ–°ï¼Œå­ç»„ä»¶ä¸æ›´æ–°")])]),t._v(" "),s("blockquote",[s("p",[t._v("PureComponentã€shouldComponentUpdateã€çˆ¶ç»„ä»¶å¯¹å­ç»„ä»¶ç¼“å†²ã€memo")])]),t._v(" "),s("ul",[s("li",[t._v("ç»„ä»¶è‡ªå·±æ§åˆ¶æ˜¯å¦åˆ·æ–°")]),t._v(" "),s("li",[t._v("å‡å°‘æ³¢åŠèŒƒå›´ï¼Œæ— å…³åˆ·æ–°ä¸å­˜åœ¨state")]),t._v(" "),s("li",[t._v("åˆå¹¶stateï¼Œå‡å°‘setStateæ‰§è¡Œæ¬¡æ•°")]),t._v(" "),s("li",[t._v("æ›´å¿«å®Œæˆdiffæ¯”è¾ƒè¿‡ç¨‹")])]),t._v(" "),s("h2",{attrs:{id:"æ€è·¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯"}},[t._v("#")]),t._v(" æ€è·¯")]),t._v(" "),s("ul",[s("li",[t._v("å‡å°‘renderæ¬¡æ•°")]),t._v(" "),s("li",[t._v("å‡å°‘æ¸²æŸ“çš„èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("key")]),t._v(" "),s("li",[t._v("é™ä½è®¡ç®—é‡")]),t._v(" "),s("li",[t._v("ç¼“å­˜")]),t._v(" "),s("li",[t._v("VDOM")]),t._v(" "),s("li",[t._v("ä½¿ç”¨å·¥å…·åˆ†ææ€§èƒ½ç“¶é¢ˆ")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ä¸å¯çªå˜æ•°æ®ç»“æ„ï¼Œæ•°ç»„ä½¿ç”¨concatï¼Œå¯¹è±¡ä½¿ç”¨Object.assign()")]),t._v(" "),s("li",[t._v("ç»„ä»¶å°½å¯èƒ½æ‹†åˆ†")]),t._v(" "),s("li",[t._v("åˆ—è¡¨ç±»ç»„ä»¶ä¼˜åŒ–")]),t._v(" "),s("li",[t._v("bindå‡½æ•°ä¼˜åŒ–")]),t._v(" "),s("li",[t._v("ä¸æ»¥ç”¨props")]),t._v(" "),s("li",[t._v("reactDOMServerè¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“ç»„ä»¶")])]),t._v(" "),s("h2",{attrs:{id:"react-memo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-memo"}},[t._v("#")]),t._v(" React.memo")]),t._v(" "),s("p",[t._v("React16.6æ–°å¢ï¼Œç¼“å­˜ç»„ä»¶")]),t._v(" "),s("p",[t._v("å’ŒPureComponentç›¸ä¼¼ï¼Œä½†memoåªç”¨äºå‡½æ•°ç»„ä»¶")]),t._v(" "),s("p",[t._v("ä½¿ç”¨å…¶å¯¹èˆªç­ä¿¡æ¯å¯è§†åŒ–ç³»ç»Ÿåšäº†ä¼˜åŒ–")]),t._v(" "),s("p",[t._v("React17+antvL7+antd")]),t._v(" "),s("p",[t._v("è®°å¿†ç»„ä»¶æ¸²æŸ“ç»“æœï¼Œæé«˜ç»„ä»¶æ€§èƒ½")]),t._v(" "),s("p",[t._v("åªæ£€æŸ¥propsæ˜¯å¦å˜åŒ–")]),t._v(" "),s("p",[t._v("åšæµ…æ¯”è¾ƒ")]),t._v(" "),s("p",[t._v("ç¬¬äºŒä¸ªå‚æ•°å¯ä¼ å…¥è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°")]),t._v(" "),s("p",[t._v("areEqualæ–¹æ³•å’ŒshouldComponentUpdateè¿”å›å€¼ç›¸å")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" App"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("memo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä½¿ç”¨propsæ¸²æŸ“ ")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("areEqual")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦‚æœæŠŠprevPropsä¼ å…¥renderæ–¹æ³•çš„è¿”å›ç»“æœå’Œå°†nextPropsä¼ å…¥renderçš„è¿”å›ç»“æœä¸€æ ·ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"react-usememo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-usememo"}},[t._v("#")]),t._v(" React.useMemo")]),t._v(" "),s("p",[t._v("ç¼“å­˜å¤§é‡è®¡ç®—")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶ä¸­ï¼ŒåŒ¿åå‡½æ•°ï¼Œç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°ä¼šé‡æ–°å£°æ˜")]),t._v(" "),s("p",[t._v("useMemo ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„å€¼ä¼šè¢«ç¼“å­˜ï¼ŒåŒæ—¶ä½œä¸º useMemo çš„è¿”å›å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ä¾èµ–ï¼Œå¦‚æœæ•°ç»„å€¼å˜åŒ–ï¼Œä¼šé‡æ–°æ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶å°†å‡½æ•°è¿”å›çš„å€¼ç¼“å­˜èµ·æ¥ä½œä¸º useMemo çš„è¿”å›å€¼")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¿å…è¿™æ ·åš")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" someProp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("heavyCalculation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent someProp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("someProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæœ‰ `props.item` æ”¹å˜æ—¶somePropçš„å€¼æ‰ä¼šè¢«é‡æ–°è®¡ç®—")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" someProp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("heavyCalculation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent someProp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("someProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h2",{attrs:{id:"purecomponent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#purecomponent"}},[t._v("#")]),t._v(" PureComponent")]),t._v(" "),s("p",[t._v("é¿å…é‡å¤æ¸²æŸ“")]),t._v(" "),s("p",[s("code",[t._v("React.Component")]),t._v("å¹¶æœªå®ç° "),s("code",[t._v("shouldComponentUpdate")]),t._v("()ï¼Œè€Œ "),s("code",[t._v("React.PureComponent")]),t._v("ä»¥æµ…å±‚å¯¹æ¯” Prop å’Œ State çš„æ–¹å¼å®ç°äº†è¯¥å‡½æ•°")]),t._v(" "),s("p",[s("code",[t._v("shouldComponentUpdate")]),t._v("åšçš„æ˜¯â€œæµ…å±‚æ¯”è¾ƒâ€ã€‚è‹¥æ˜¯â€œæ·±å±‚æ¯”è¾ƒâ€ï¼ŒæŸä¸ªç‰¹å®šç»„ä»¶çš„è¡Œä¸ºï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™")]),t._v(" "),s("p",[t._v("çˆ¶ç»„ä»¶çŠ¶æ€çš„æ¯æ¬¡æ›´æ–°ï¼Œéƒ½ä¼šå¯¼è‡´å­ç»„ä»¶re-renderï¼Œå³ä½¿ä¼ å…¥ç›¸åŒpropsã€‚ä½†è¿™é‡Œçš„re-render ä¸æ˜¯è¯´ä¼šæ›´æ–°DOMï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½ä¼šè°ƒç”¨diifç®—æ³•åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°DOMã€‚è¿™å¯¹å¤§å‹ç»„ä»¶ä¾‹å¦‚ç»„ä»¶æ ‘æ¥è¯´ éå¸¸æ¶ˆè€—æ€§èƒ½")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("shouldComponentUpdate")]),t._v("ç¡®ä¿åªæœ‰å½“ç»„ä»¶propsçŠ¶æ€æ”¹å˜æ—¶æ‰ä¼šre-renderï¼Œè¿”å›falseè¡¨ç¤ºä¸å¸Œæœ›ç»„ä»¶re-render")])]),t._v(" "),s("p",[s("code",[t._v("PureComponent")]),t._v("è¿›è¡Œæµ…æ¯”è¾ƒåˆ¤æ–­ç»„ä»¶æ˜¯å¦åº”è¯¥re-renderï¼Œå¯¹äºä¼ å…¥çš„åŸºæœ¬ç±»å‹"),s("code",[t._v("props")]),t._v("ï¼Œåªè¦å€¼ç›¸åŒï¼Œæµ…æ¯”è¾ƒå°±ä¼šè®¤ä¸ºç›¸åŒï¼Œå¯¹äºä¼ å…¥çš„å¼•ç”¨ç±»å‹"),s("code",[t._v("props")]),t._v("ï¼Œ"),s("strong",[t._v("æµ…æ¯”è¾ƒåªä¼šè®¤ä¸ºä¼ å…¥çš„propsæ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¼•ç”¨")]),t._v("ï¼Œå¦‚æœä¸æ˜¯ï¼Œå“ªæ€•è¿™ä¸¤ä¸ªå¯¹è±¡ä¸­çš„å†…å®¹å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„"),s("code",[t._v("props")]),t._v("ã€‚")]),t._v(" "),s("p",[s("code",[t._v("PureComponent")]),t._v("ï¼Œå› ä¸ºè¿›è¡Œæµ…æ¯”è¾ƒä¹Ÿä¼šèŠ±è´¹æ—¶é—´ï¼Œè¿™ç§ä¼˜åŒ–æ›´é€‚ç”¨äºå¤§å‹çš„å±•ç¤ºç»„ä»¶ä¸Šã€‚å¤§å‹ç»„ä»¶ä¹Ÿå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªå°ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨"),s("code",[t._v("memo")]),t._v("æ¥åŒ…è£¹å°ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥æå‡æ€§èƒ½ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("ç¡®ä¿æ•°æ®ç±»å‹æ˜¯å€¼ç±»å‹")]),t._v(" "),s("li",[t._v("å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸åº”å½“æœ‰æ·±å±‚æ¬¡çš„æ•°æ®å˜åŒ–(è§£æ„)")])]),t._v(" "),s("p",[t._v("åˆ¤æ–­æ­¥éª¤ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("ç›´æ¥æ¯”è¾ƒæ–°è€ "),s("code",[t._v("props")]),t._v(" /æ–°è€ "),s("code",[t._v("state")]),t._v(" æ˜¯å¦ç›¸ç­‰ã€‚ç›¸ç­‰ä¸æ›´æ–°ç»„ä»¶")]),t._v(" "),s("li",[t._v("åˆ¤æ–­æ–°è€ "),s("code",[t._v("state")]),t._v(" / "),s("code",[t._v("props")]),t._v(" ï¼Œæœ‰ä¸æ˜¯å¯¹è±¡/ä¸º "),s("code",[t._v("null")]),t._v(" çš„ï¼Œè¿”å› false ï¼Œæ›´æ–°ç»„ä»¶")]),t._v(" "),s("li",[s("code",[t._v("Object.keys")]),t._v(" å°†æ–°è€ "),s("code",[t._v("props")]),t._v(" /æ–°è€ "),s("code",[t._v("state")]),t._v(" å±æ€§å "),s("code",[t._v("key")]),t._v(" å˜æˆæ•°ç»„ï¼Œåˆ¤æ–­æ•°ç»„é•¿åº¦æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¯æ˜æœ‰å±æ€§å¢åŠ /å‡å°‘ï¼Œæ›´æ–°ç»„ä»¶")]),t._v(" "),s("li",[t._v("éå†è€ "),s("code",[t._v("props")]),t._v(" /è€ "),s("code",[t._v("state")]),t._v(" ï¼Œåˆ¤æ–­å¯¹åº”æ–° "),s("code",[t._v("props")]),t._v(" /æ–° "),s("code",[t._v("state")]),t._v(" ï¼Œæœ‰æ²¡æœ‰ä¸ä¹‹å¯¹åº”ä¸”ç›¸ç­‰çš„ï¼ˆè¿™ä¸ªç›¸ç­‰æ˜¯æµ…æ¯”è¾ƒï¼‰ï¼Œæœ‰ä¸€ä¸ªä¸å¯¹åº”/ä¸ç›¸ç­‰ï¼Œç›´æ¥è¿”å› "),s("code",[t._v("false")]),t._v(" ï¼Œæ›´æ–°ç»„ä»¶")])]),t._v(" "),s("h2",{attrs:{id:"é«˜é˜¶ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é«˜é˜¶ç»„ä»¶"}},[t._v("#")]),t._v(" é«˜é˜¶ç»„ä»¶")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶æ²¡æœ‰ shouldComponentUpdate æ–¹æ³•ï¼Œå¯åˆ©ç”¨ é«˜é˜¶ç»„ä»¶ å°è£…ä¸€ä¸ªç±»ä¼¼PureComponent æ–¹æ³•")]),t._v(" "),s("h2",{attrs:{id:"é¿å…å†…è”å¯¹è±¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¿å…å†…è”å¯¹è±¡"}},[t._v("#")]),t._v(" é¿å…å†…è”å¯¹è±¡")]),t._v(" "),s("p",[s("strong",[t._v("ä½¿ç”¨å†…è”å¯¹è±¡æ—¶ï¼Œreactä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶é‡æ–°åˆ›å»ºå¯¹æ­¤å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ä¼šå¯¼è‡´æ¥æ”¶æ­¤å¯¹è±¡çš„ç»„ä»¶å°†å…¶è§†ä¸ºä¸åŒçš„å¯¹è±¡")]),t._v("ï¼Œå› æ­¤ï¼Œè¯¥ç»„ä»¶å¯¹äºpropçš„æµ…å±‚æ¯”è¾ƒå§‹ç»ˆè¿”å›falseï¼Œå¯¼è‡´ç»„ä»¶ä¸€ç›´re-renderã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Don't do this!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aProp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("someProp")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'someValue'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" aProp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("aProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do this instead :)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" styles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aProp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("someProp")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'someValue'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("aProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h2",{attrs:{id:"é¿å…åŒ¿åå‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¿å…åŒ¿åå‡½æ•°"}},[t._v("#")]),t._v(" é¿å…åŒ¿åå‡½æ•°")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¿å…è¿™æ ·åš")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼˜åŒ–æ–¹æ³•ä¸€")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handleChange "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("handleChange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼˜åŒ–æ–¹æ³•äºŒ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleChange")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleChange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h2",{attrs:{id:"ç»„ä»¶æ‡’åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶æ‡’åŠ è½½"}},[t._v("#")]),t._v(" ç»„ä»¶æ‡’åŠ è½½")]),t._v(" "),s("p",[t._v("ä½¿ç”¨æ–°çš„React.Lazyå’ŒReact.Suspenseå®Œæˆ")]),t._v(" "),s("p",[s("strong",[t._v("React.lazy")])]),t._v(" "),s("p",[t._v("å®šä¹‰åŠ¨æ€åŠ è½½çš„ç»„ä»¶ï¼Œå¯ç›´æ¥ç¼©å‡æ‰“åŒ…å bundle ä½“ç§¯ï¼Œå»¶è¿ŸåŠ è½½åœ¨åˆæ¬¡æ¸²æŸ“æ—¶ä¸éœ€è¦æ¸²æŸ“çš„ç»„ä»¶")]),t._v(" "),s("p",[s("strong",[t._v("React.Suspense")])]),t._v(" "),s("p",[t._v("æ‚¬æŒ‚ ç»ˆæ­¢ æš‚åœ")]),t._v(" "),s("p",[t._v("é…åˆæ¸²æŸ“ lazy ç»„ä»¶ï¼Œåœ¨ç­‰å¾…åŠ è½½ lazyç»„ä»¶æ—¶å±•ç¤º loading å…ƒç´ ï¼Œä¸è‡³äºç›´æ¥ç©ºç™½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼›")]),t._v(" "),s("blockquote",[s("p",[t._v("ç½‘çƒåå°ç”¨åˆ°")]),t._v(" "),s("p",[t._v("åªæœ‰åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å±•ç¤ºSettingDrawer")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense fallback"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("PageLoading "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderSettingDrawer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" SettingDrawer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/SettingDrawer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"ç”¨-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨-css"}},[t._v("#")]),t._v(" ç”¨ CSS")]),t._v(" "),s("p",[t._v("è€Œä¸æ˜¯å¼ºåˆ¶åŠ /å¸è½½ç»„ä»¶")]),t._v(" "),s("p",[t._v("æ¸²æŸ“æˆæœ¬å¾ˆé«˜ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦æ›´æ”¹DOMæ—¶ã€‚æ­¤æ“ä½œå¯èƒ½éå¸¸æ¶ˆè€—æ€§èƒ½å¹¶å¯èƒ½å¯¼è‡´å»¶è¿Ÿ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¿å…å¯¹å¤§å‹çš„ç»„ä»¶é¢‘ç¹å¯¹åŠ è½½å’Œå¸è½½")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("view"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" view "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view1'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SomeComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨è¯¥æ–¹å¼æå‡æ€§èƒ½å’Œé€Ÿåº¦")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" visibleStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("opacity")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hiddenStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("opacity")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("view"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SomeComponent style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("view "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view1'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" visibleStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" hiddenStyles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnotherComponent style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("view "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'view1'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" visibleStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" hiddenStyles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h2",{attrs:{id:"react-fragment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-fragment"}},[t._v("#")]),t._v(" React.Fragment")]),t._v(" "),s("p",[t._v("æ— éœ€ åœ¨DOMä¸­æ·»åŠ é¢å¤–æ ‡ç­¾ï¼Œä¸ä¼šæ¸²æŸ“ä»»ä½•å…ƒç´ ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello world"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello there"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello there again"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h2",{attrs:{id:"key-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#key-2"}},[t._v("#")]),t._v(" key")]),t._v(" "),s("ul",[s("li",[t._v("ä¿è¯keyå…·æœ‰å”¯ä¸€æ€§")]),t._v(" "),s("li",[t._v("DIffç®—æ³•æ ¹æ®keyåˆ¤æ–­å…ƒç´ æ—¶æ–°åˆ›å»ºè¿˜æ˜¯è¢«ç§»åŠ¨çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦æ¸²æŸ“")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("è™½ç„¶keyæ˜¯ä¸€ä¸ªpropï¼Œä½†æ˜¯æ¥å—keyçš„ç»„ä»¶å¹¶ä¸èƒ½è¯»å–åˆ°keyçš„å€¼ï¼Œå› ä¸ºkeyå’Œrefæ˜¯Reactä¿ç•™çš„ä¸¤ä¸ªç‰¹æ®Šprop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"åˆç†ä½¿ç”¨context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆç†ä½¿ç”¨context"}},[t._v("#")]),t._v(" åˆç†ä½¿ç”¨Context")]),t._v(" "),s("p",[t._v("æ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ  Propsï¼Œé€šè¿‡provideræ¥å£åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’")]),t._v(" "),s("p",[s("strong",[t._v("åŸåˆ™")])]),t._v(" "),s("p",[t._v("Context ä¸­åªå®šä¹‰è¢«å¤§å¤šæ•°ç»„ä»¶æ‰€å…±ç”¨çš„å±æ€§")]),t._v(" "),s("ul",[s("li",[t._v("ä½¿ç”¨createContextåˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡")]),t._v(" "),s("li",[t._v("è®¾ç½®providerå¹¶é€šè¿‡valueæ¥å£ä¼ é€’stateæ•°æ®")]),t._v(" "),s("li",[t._v("å±€éƒ¨ç»„ä»¶ä»valueæ¥å£ä¸­ä¼ é€’çš„æ•°æ®å¯¹è±¡ä¸­è·å–è¯»å†™æ¥å£")])]),t._v(" "),s("blockquote",[s("p",[t._v("ç½‘çƒç³»ç»Ÿåå°ä½¿ç”¨äº†è¿™ä¸ªæŠ€æœ¯")])]),t._v(" "),s("p",[t._v("toggleâ€”â€”åˆ‡æ¢")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createContext "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" LoginContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" LoginContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"è™šæ‹Ÿåˆ—è¡¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿåˆ—è¡¨"}},[t._v("#")]),t._v(" è™šæ‹Ÿåˆ—è¡¨")]),t._v(" "),s("p",[t._v("åªæ¸²æŸ“å½“å‰è§†å£å¯è§å…ƒç´ ")]),t._v(" "),s("ul",[s("li",[t._v("æ— é™æ»šåŠ¨åˆ—è¡¨ï¼Œtable")]),t._v(" "),s("li",[t._v("æ— é™åˆ‡æ¢æ—¥å†")])]),t._v(" "),s("h2",{attrs:{id:"åˆç†è®¾è®¡ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆç†è®¾è®¡ç»„ä»¶"}},[t._v("#")]),t._v(" åˆç†è®¾è®¡ç»„ä»¶")]),t._v(" "),s("p",[t._v("ç®€åŒ–Props")]),t._v(" "),s("p",[t._v("ç®€åŒ–State")]),t._v(" "),s("p",[t._v("å‡å°‘ç»„ä»¶åµŒå¥—")]),t._v(" "),s("p",[t._v("æ¸²æŸ“å‡½æ•°å†…ä¸è¯¥æ”¾å¤ªå¤šå‰¯ä½œç”¨")]),t._v(" "),s("p",[t._v("ä¸æ»¥ç”¨contextï¼Œå› ä¸ºcontextå¯ç©¿é€React.memoæˆ–shouldComponentUpdateçš„å¯¹æ¯”ï¼Œä¸€æ—¦contextå˜åŒ–ï¼Œæ‰€ä»¥ä¾èµ–è¯¥contextçš„ç»„ä»¶éƒ½ä¼šåˆ·æ–°")]),t._v(" "),s("p",[t._v("contextä¸èƒ½ç²¾ç»†åŒ–æ¸²æŸ“")]),t._v(" "),s("h1",{attrs:{id:"purecomponentã€component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#purecomponentã€component"}},[t._v("#")]),t._v(" PureComponentã€Component")]),t._v(" "),s("p",[t._v("Componentéœ€è¦å®ç°shouldComponentDidMountï¼Œè€ŒPureComponenté€šè¿‡æµ…å¯¹æ¯”é»˜è®¤å®ç°äº†shouldComponentDidMountï¼Œå½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œè‹¥ç»„ä»¶çš„props å’Œ stateéƒ½æ²¡æœ‰æ”¹å˜ï¼Œä¸ä¼šè§¦å‘renderå‡½æ•°ï¼Œçœå»VDOMçš„ç”Ÿæˆå’Œå¯¹æ¯”è¿‡ç¨‹")]),t._v(" "),s("p",[t._v("PureComponentå…¶æœ€ä½³æƒ…å†µæ˜¯å±•ç¤ºç»„ä»¶ï¼Œå› ä¸ºå…¶shouldComponentUpdate()è¿›è¡Œæµ…æ¯”è¾ƒï¼Œå¦‚æœæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåªä¼šæ¯”è¾ƒæ˜¯ä¸æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œä¸ä¼šæ¯”è¾ƒè¿™ä¸ªåœ°å€çš„æ•°æ®æ˜¯å¦æ”¹å˜ï¼Œæµ…æ¯”è¾ƒä¼šå¿½ç•¥å±æ€§æˆ–çŠ¶æ€çªå˜æƒ…å†µ")]),t._v(" "),s("p",[t._v("å¦‚æœç¡®ä¿ stateå’Œ props ç»å¸¸åœ¨å˜ï¼Œä¸ç”¨ PureComponentåè€Œæ•ˆç‡å¯èƒ½æ›´å¥½ï¼Œå› ä¸ºæµ…æ¯”è¾ƒä¹Ÿä¼šè€—æ€§èƒ½")]),t._v(" "),s("h1",{attrs:{id:"setstate-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate-2"}},[t._v("#")]),t._v(" â¤ï¸ setState")]),t._v(" "),s("p",[t._v("å‘Šè¯‰ç»„ä»¶æ•°æ®æœ‰æ›´æ–°ï¼Œå¯èƒ½éœ€è¦re-renderï¼Œreacté€šå¸¸ä¼šé›†é½ä¸€æ‰¹éœ€æ›´æ–°çš„ç»„ä»¶ï¼Œå†ä¸€æ¬¡æ€§ä¿è¯æ¸²æŸ“æ€§èƒ½")]),t._v(" "),s("p",[t._v("setStateæ”¹å˜ä¹‹åï¼Œç«‹å³ç”¨this.stateæ‹¿ä¸åˆ°æœ€æ–°çŠ¶æ€")]),t._v(" "),s("h2",{attrs:{id:"åŒæ­¥orå¼‚æ­¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ­¥orå¼‚æ­¥"}},[t._v("#")]),t._v(" åŒæ­¥orå¼‚æ­¥")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://interview.yuadh.com/assets/1611908814278-be06f25f-ee6f-44d5-93f1-c0a24eecd456-16592529098803.png",alt:"image.png"}}),t._v(" "),s("p",[t._v("æ ¹æ®å˜é‡isBatchingUpdates(æ˜¯å¦ æ˜¯æ‰¹é‡æ›´æ–°)  åˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–°this.stateè¿˜æ˜¯æ”¾åˆ°é˜Ÿåˆ—ä¸­å›å¤´å†è¯´ï¼ŒisBatchUpdatesé»˜è®¤false(åŒæ­¥æ›´æ–° this.state)ï¼Œå‡½æ•°batchUpdates ä¼šå°†isBatchingUpdatesä¿®æ”¹ä¸ºtrueï¼Œå½“Reactè°ƒç”¨äº‹ä»¶å¤„ç†/ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹å‰ è°ƒç”¨batchedUpdatesï¼Œåæœå°±æ˜¯ setStateå¼‚æ­¥æ›´æ–°")]),t._v(" "),s("p",[t._v('è‹¥isBatchingUpdatesä¸ºtrueï¼Œå‘½ä¸­batchUpdateæœºåˆ¶ï¼Œè¿›è¡Œ "å¼‚æ­¥æ›´æ–°"ï¼Œåä¹‹ä¸º "åŒæ­¥æ›´æ–°"')]),t._v(" "),s("p",[t._v("APIå±‚é¢ï¼ŒsetStateæ˜¯æ™®é€šçš„è°ƒç”¨æ‰§è¡Œçš„å‡½æ•°ï¼Œè‡ªç„¶æ˜¯åŒæ­¥API")]),t._v(" "),s("p",[t._v("æ­¤ åŒæ­¥ é å½¼ åŒæ­¥")]),t._v(" "),s("p",[t._v("åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ æŒ‡çš„æ˜¯è°ƒç”¨APIåæ›´æ–°DOMæ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Ÿâ€”â€”å–å†³äº è¢«è°ƒç”¨çš„ç¯å¢ƒ")]),t._v(" "),s("ul",[s("li",[t._v("Reactèƒ½æ§åˆ¶çš„èŒƒå›´è°ƒç”¨ï¼Œå¦‚ åˆæˆäº‹ä»¶ã€ç”Ÿå‘½å‘¨æœŸï¼Œä¼šæ‰¹é‡æ›´æ–°ï¼ŒçŠ¶æ€åˆå¹¶åå†æ›´æ–°DOMï¼Œä¸ºå¼‚æ­¥")]),t._v(" "),s("li",[t._v("åŸç”ŸJSæ§åˆ¶çš„èŒƒå›´è°ƒç”¨ï¼Œå¦‚ "),s("strong",[s("u",[s("em",[t._v("åŸç”Ÿäº‹ä»¶ï¼Œå®šæ—¶å™¨å›è°ƒï¼ŒAjaxå›è°ƒï¼ŒsetStateè°ƒç”¨åç«‹å³æ›´æ–°DOMï¼Œä¸ºåŒæ­¥")])])])])]),t._v(" "),s("p",[t._v("å¼‚æ­¥ å°±æ˜¯ æ‰¹é‡æ›´æ–°ï¼Œå‡å°‘ADOMæ¸²æŸ“æ¬¡æ•°ï¼Œåœ¨Reactèƒ½æ§åˆ¶èŒƒå›´å†…ï¼Œä¸€å®šæ˜¯æ‰¹é‡æ›´æ–°(ä¸ºäº†æ€§èƒ½ç€æƒ³)ï¼Œå…ˆåˆå¹¶ çŠ¶æ€ï¼Œå†ä¸€æ¬¡æ€§ æ›´æ–°DOM")]),t._v(" "),s("p",[t._v("setStateæ„å‘³ç€ä¸€ä¸ªå®Œæ•´çš„æ¸²æŸ“æµç¨‹ï¼ŒåŒ…æ‹¬")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("shouldComponentUpdate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("componentWillUpdate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("componentDidUpdate\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("setState æ‰¹é‡æ›´æ–°(å¼‚æ­¥)  æ˜¯ä¸ºäº†é¿å… é¢‘ç¹ re-renderï¼Œæ¶ˆè€—æ€§èƒ½")]),t._v(" "),s("p",[t._v("æ‰¹é‡æ›´æ–° è¿‡ç¨‹ å’Œ äº‹ä»¶å¾ªç¯ ç±»ä¼¼ï¼Œæ¥ä¸€ä¸ªsetStateå°†å…¶åŠ å…¥ é˜Ÿåˆ—ï¼Œå¾…æ—¶æœºæˆç†Ÿï¼Œ é˜Ÿåˆ—ä¸­ state ç»“æœåˆå¹¶ï¼Œæœ€ååªå¯¹æœ€æ–°çš„state è¿›è¡Œæ›´æ–°")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/32f0f3289e2d41d098fea4ebe4685488tplv-k3u1fbpfcp-zoom-in-crop-mark3024000.awebp",alt:"img"}})]),t._v(" "),s("p",[t._v("åœ¨ react17 ä¸­ï¼ŒsetState æ‰¹é‡æ‰§è¡Œï¼Œä½†å¦‚æœåœ¨ setTimeoutã€äº‹ä»¶ç›‘å¬å™¨ç­‰å‡½æ•°é‡Œï¼ŒsetState ä¼šåŒæ­¥æ‰§è¡Œã€‚å¯ä»¥åœ¨å¤–é¢åŒ…ä¸€å±‚ batchUpdates å‡½æ•°ï¼Œæ‰‹åŠ¨è®¾ç½® excutionContext åˆ‡æ¢æˆæ‰¹é‡æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("react18 ä¸­æ‰€æœ‰çš„ setState éƒ½æ˜¯å¼‚æ­¥æ‰¹é‡æ‰§è¡Œäº†")]),t._v(" "),s("h2",{attrs:{id:"ç¬¬äºŒä¸ªå‚æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äºŒä¸ªå‚æ•°"}},[t._v("#")]),t._v(" ç¬¬äºŒä¸ªå‚æ•°")]),t._v(" "),s("p",[t._v("æ˜¯ä¸€ä¸ªå¯é€‰çš„å›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•° åœ¨ ç»„ä»¶re-renderåæ‰§è¡Œï¼Œç­‰ä»·äº componentDidUpdate ä¸­æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("å¯æ‹¿åˆ°æ›´æ–°åçš„state")]),t._v(" "),s("h2",{attrs:{id:"stateå¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stateå¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶"}},[t._v("#")]),t._v(" stateå¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶")]),t._v(" "),s("p",[t._v("é€šè¿‡connect å’Œ mapStateToProps å°†stateæ³¨å…¥ åˆ°ç»„ä»¶")]),t._v(" "),s("p",[t._v("mapStateToProps(state,ownProps)ä¸­å¸¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå«ä¹‰æ˜¯")]),t._v(" "),s("ul",[s("li",[t._v("state-storeç®¡ç†çš„ å…¨å±€çŠ¶æ€å¯¹è±¡ï¼Œæ‰€æœ‰ç»„ä»¶çŠ¶æ€éƒ½å­˜å‚¨åœ¨è¯¥å¯¹è±¡ä¸­")]),t._v(" "),s("li",[t._v("ownProps ç»„ä»¶é€šè¿‡ props ä¼ å…¥çš„å‚æ•°")])]),t._v(" "),s("h1",{attrs:{id:"äº‹ä»¶æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶æœºåˆ¶"}},[t._v("#")]),t._v(" ğŸŠ äº‹ä»¶æœºåˆ¶")]),t._v(" "),s("p",[t._v("reactä¸ºäº†è§£å†³è·¨å¹³å°ã€å…¼å®¹æ€§é—®é¢˜ï¼Œè‡ªå·±å°è£…äº†ä¸€å¥—äº‹ä»¶æœºåˆ¶ï¼Œä»£ç†äº†åŸç”Ÿäº‹ä»¶ï¼Œä¾‹å¦‚JSXçš„onClickå’ŒonChangeéƒ½æ˜¯åˆæˆäº‹ä»¶")]),t._v(" "),s("p",[t._v("å……å½“æµè§ˆå™¨åŸç”Ÿäº‹ä»¶çš„è·¨æµè§ˆå™¨åŒ…è£…å™¨ çš„å¯¹è±¡")]),t._v(" "),s("p",[s("strong",[t._v("å°†ä¸åŒæµè§ˆå™¨è¡Œä¸ºç»„åˆåˆ°ä¸€ä¸ª APIä¸­ï¼Œç¡®ä¿äº‹ä»¶æ˜¾ç¤ºä¸€è‡´çš„ å±æ€§")])]),t._v(" "),s("div",{staticClass:"language-JS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ç‚¹æˆ‘"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Reactå¹¶ä¸æ˜¯å°†clickäº‹ä»¶ç»‘å®šåˆ°äº†divçš„ADOMä¸Šï¼Œè€Œæ˜¯åœ¨documentå¤„ç›‘å¬äº†æ‰€æœ‰çš„äº‹ä»¶ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶ä¸”å†’æ³¡åˆ°documentå¤„çš„æ—¶å€™ï¼ŒReactå°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„å¤„ç†å‡½æ•°è¿è¡Œã€‚è¿™æ ·å‡å°‘å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚åœ¨é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶")]),t._v(" "),s("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œå†’æ³¡åˆ°documentä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ç”±reactè‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯åº”è°ƒç”¨event.preventDefault()æ–¹æ³•ï¼Œè€Œä¸æ˜¯è°ƒç”¨event.stopProppagation()æ–¹æ³•")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/1611890469312-7504e85d-c6db-481e-b9d3-5307a3de708c.jpeg",alt:"img"}})]),t._v(" "),s("p",[t._v("åˆæˆäº‹ä»¶ æ˜¯react æ¨¡æ‹ŸåŸç”Ÿ DOM äº‹ä»¶ æ‰€æœ‰èƒ½åŠ›çš„äº‹ä»¶å¯¹è±¡ï¼Œä¼˜ç‚¹å¦‚ä¸‹")]),t._v(" "),s("ul",[s("li",[t._v("å…¼å®¹ æ‰€æœ‰æµè§ˆå™¨ï¼Œæ›´å¥½è·¨å¹³å°")]),t._v(" "),s("li",[t._v("å¯¹äºåŸç”Ÿæµè§ˆå™¨äº‹ä»¶æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šç»™ç›‘å¬å™¨åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ã€‚å¦‚æœæœ‰å¾ˆå¤šçš„äº‹ä»¶ç›‘å¬ï¼Œå°±éœ€è¦åˆ†é…å¾ˆå¤šäº‹ä»¶å¯¹è±¡ï¼Œé€ æˆé«˜é¢å†…å­˜åˆ†é…ã€‚å¯¹äºåˆæˆäº‹ä»¶æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªäº‹ä»¶æ± ä¸“é—¨æ¥ç®¡ç†å®ƒä»¬çš„åˆ›å»ºå’Œé”€æ¯ï¼Œå½“äº‹ä»¶éœ€è¦è¢«ä½¿ç”¨æ—¶ï¼Œå°±ä¼šä»æ± å­ä¸­å¤ç”¨å¯¹è±¡ï¼Œäº‹ä»¶å›è°ƒç»“æŸåï¼Œå°±ä¼šé”€æ¯äº‹ä»¶å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œä¾¿äºä¸‹æ¬¡å¤ç”¨")]),t._v(" "),s("li",[t._v("äº‹ä»¶ç»Ÿä¸€ å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ï¼Œé¿å…é¢‘ç¹æ–°å¢å’Œåˆ é™¤(åƒåœ¾å›æ”¶)")]),t._v(" "),s("li",[t._v("ä¾¿äº react ç»Ÿä¸€ç®¡ç†")])]),t._v(" "),s("p",[t._v("åŸç”Ÿäº‹ä»¶ å…ˆæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶ åæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶ å†’æ³¡ç»‘å®šåˆ° document ä¸Šï¼Œæ‰€ä»¥ å°½é‡é¿å… åŸç”Ÿäº‹ä»¶å’Œåˆæˆäº‹ä»¶ æ··ç”¨ï¼Œ("),s("strong",[t._v("ä¸ºå•¥å‘¢ï¼Ÿï¼Ÿ")]),t._v(")")]),t._v(" "),s("p",[t._v("å› ä¸º å¦‚æœåŸç”Ÿäº‹ä»¶ é˜»æ­¢å†’æ³¡ï¼Œå¯èƒ½å¯¼è‡´åˆæˆäº‹ä»¶æ— æ³•æ‰§è¡Œï¼Œå› ä¸ºåˆæˆäº‹ä»¶éœ€è¦å†’æ³¡åˆ° document ä¸Šæ‰ä¼šæ‰§è¡Œ")]),t._v(" "),s("h1",{attrs:{id:"hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hooks"}},[t._v("#")]),t._v(" ğŸ’š Hooks")]),t._v(" "),s("p",[t._v("React16.8æ–°å¢ç‰¹æ€§ï¼Œä¸»è¦è§£å†³äº†å‡½æ•°å¼ç»„ä»¶æ— çŠ¶æ€çš„é—®é¢˜")]),t._v(" "),s("p",[t._v("ç±»ç»„ä»¶å†…éƒ¨é€»è¾‘éš¾ä»¥æ‹†åˆ†å’Œå¤ç”¨")]),t._v(" "),s("p",[t._v("å‡½æ•°ç»„ä»¶ï¼Œå†…éƒ¨æ— æ³•å®šä¹‰å’Œç»´æŠ¤stateï¼Œä¹Ÿå« æ— çŠ¶æ€ ç»„ä»¶")]),t._v(" "),s("p",[s("strong",[t._v("è½»é‡ çµæ´» æ˜“äºç»´æŠ¤å’Œç»„ç»‡ï¼Œå­¦ä¹ æˆæœ¬ä½")])]),t._v(" "),s("p",[t._v("ç»„ä»¶åŠŸèƒ½æ¸…æ™°å¾ˆå°å·§ï¼")]),t._v(" "),s("ul",[s("li",[t._v("ç±»ç»„ä»¶éœ€ç»§æ‰¿ class")]),t._v(" "),s("li",[t._v("ç±»ç»„ä»¶å¯è®¿é—®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•")]),t._v(" "),s("li",[t._v("ç±»ç»„ä»¶å¯è·å–å®ä¾‹åŒ–å çš„ this")]),t._v(" "),s("li",[t._v("ç±»ç»„ä»¶å¯å®šä¹‰å¹¶ç»´æŠ¤state")])]),t._v(" "),s("p",[t._v("hookså‰ï¼Œç±»ç»„ä»¶è¾¹ç•Œå¼ºäºå‡½æ•°ç»„ä»¶")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\næˆ–\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"è§£å†³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³"}},[t._v("#")]),t._v(" è§£å†³")]),t._v(" "),s("ul",[s("li",[t._v("ç»„ä»¶ é€»è¾‘å¤ç”¨ï¼Œrender props/HOCä¹Ÿä¸ºäº†å¤ç”¨ï¼Œhooksä½œä¸ºå®˜æ–¹åº•å±‚APIï¼Œæœ€è½»é‡ä¸”æ”¹é€ æˆæœ¬å°ï¼Œä¸å½±å“ç»„ä»¶å±‚æ¬¡ç»“æ„å’ŒåµŒå¥—åœ°ç‹±")]),t._v(" "),s("li",[t._v("å¤æ‚ç»„ä»¶ç†è§£")]),t._v(" "),s("li",[t._v("éš¾ä»¥ç†è§£çš„classï¼Œä¸åŒç”Ÿå‘½å‘¨æœŸä½¿é€»è¾‘åˆ†æ•£æ··ä¹±ï¼Œä¸æ˜“ç»´æŠ¤ç®¡ç†ï¼Œå…³æ³¨thisæŒ‡å‘é—®é¢˜ï¼Œä»£ç å¤ç”¨ä»£ä»·é«˜ï¼ŒHOCä½¿æ•´ä¸ªç»„ä»¶å˜å¾—è‡ƒè‚¿")]),t._v(" "),s("li",[t._v("çŠ¶æ€ä¸UIéš”ç¦»ï¼ŒçŠ¶æ€é€»è¾‘å˜æˆæ›´å°çš„ç²’åº¦ï¼Œæ˜“æŠ½è±¡ä¸ºè‡ªå®šä¹‰hooksï¼Œç»„ä»¶çŠ¶æ€å’ŒUIæ›´æ¸…æ™°")])]),t._v(" "),s("h2",{attrs:{id:"é™åˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é™åˆ¶"}},[t._v("#")]),t._v(" é™åˆ¶")]),t._v(" "),s("ul",[s("li",[t._v("ä¸åœ¨å¾ªç¯ã€æ¡ä»¶å’ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨(é“¾è¡¨ å®ç°Hookï¼Œå¯èƒ½å¯¼è‡´ æ•°ç»„å–å€¼é”™ä½)")]),t._v(" "),s("li",[t._v("ä»…åœ¨å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨hook(å› ä¸ºæ²¡æœ‰ this)")]),t._v(" "),s("li",[t._v("useEffectä¸­é¿å…ä½¿ç”¨useState")])]),t._v(" "),s("h2",{attrs:{id:"hookså’Œç”Ÿå‘½å‘¨æœŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hookså’Œç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" hookså’Œç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("class ç»„ä»¶")])]),t._v(" "),s("th",[s("strong",[t._v("Hooks ç»„ä»¶")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("constructor")]),t._v(" "),s("td",[t._v("useState")])]),t._v(" "),s("tr",[s("td",[t._v("getDerivedStateFromProps")]),t._v(" "),s("td",[t._v("useState é‡Œé¢ update å‡½æ•°")])]),t._v(" "),s("tr",[s("td",[t._v("shouldComponentUpdate")]),t._v(" "),s("td",[t._v("useMemo")])]),t._v(" "),s("tr",[s("td",[t._v("render")]),t._v(" "),s("td",[t._v("å‡½æ•°æœ¬èº«")])]),t._v(" "),s("tr",[s("td",[t._v("componentDidMount")]),t._v(" "),s("td",[t._v("useEffect")])]),t._v(" "),s("tr",[s("td",[t._v("componentDidUpdate")]),t._v(" "),s("td",[t._v("useEffect")])]),t._v(" "),s("tr",[s("td",[t._v("componentWillUnmount")]),t._v(" "),s("td",[t._v("useEffect é‡Œé¢è¿”å›çš„å‡½æ•°")])]),t._v(" "),s("tr",[s("td",[t._v("componentDidCatch")]),t._v(" "),s("td",[t._v("æ— ")])]),t._v(" "),s("tr",[s("td",[t._v("getDerivedStateFromError")]),t._v(" "),s("td",[t._v("æ— ")])])])]),t._v(" "),s("h2",{attrs:{id:"usestate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usestate"}},[t._v("#")]),t._v(" useState")]),t._v(" "),s("p",[t._v("å’Œclassç»„ä»¶çš„stateå·®ä¸å¤š")]),t._v(" "),s("p",[t._v("è¿”å›ä¸€ä¸ªstateå’Œæ›´æ–°stateçš„å‡½æ•°")]),t._v(" "),s("p",[t._v("åˆå§‹æ¸²æŸ“æœŸé—´ï¼Œè¿”å›çŠ¶æ€å’Œä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒ")]),t._v(" "),s("p",[t._v("setStateç”¨äºstateçš„æ›´æ–°ï¼Œæ¥æ”¶æ–°çš„stateå¹¶å°†ç»„ä»¶çš„ä¸€æ¬¡re-renderåŠ å…¥ é˜Ÿåˆ—")]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸ºå•¥useStateä½¿ç”¨æ•°ç»„")])]),t._v(" "),s("p",[t._v("è§£æ„èµ‹å€¼ï¼ï¼")]),t._v(" "),s("p",[t._v("ä½¿ç”¨æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„ä¸­å…ƒç´ å‘½åï¼Œä»£ç æ¯”è¾ƒå¹²å‡€")]),t._v(" "),s("p",[t._v("ä½¿ç”¨å¯¹è±¡ï¼Œè§£æ„æ—¶å¿…é¡»è¦å’ŒuseStateå†…éƒ¨å®ç°è¿”å›å¯¹è±¡åŒåï¼Œå¤šæ¬¡ä½¿ç”¨åªèƒ½è®¾ç½®åˆ«å")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€æ¬¡ä½¿ç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬äºŒæ¬¡ä½¿ç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" setCounter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ul",[s("li",[s("h4",{attrs:{id:"æ¨¡æ‹Ÿcomponentdidmount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡æ‹Ÿcomponentdidmount"}},[t._v("#")]),t._v(" æ¨¡æ‹ŸcomponentDidMount")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'componentDidMount'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"uselayouteffectã€useeffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uselayouteffectã€useeffect"}},[t._v("#")]),t._v(" useLayoutEffectã€useEffect")]),t._v(" "),s("p",[t._v("useEffectç›¸å½“äºæ˜¯ä¸€ä¸ªå‰¯ä½œç”¨çš„å‡½æ•°")]),t._v(" "),s("p",[t._v("æ¸²æŸ“é˜¶æ®µ å¯æ”¹å˜DOMã€æ·»åŠ è®¢é˜…ã€è®¾ç½®å®šæ—¶å™¨ã€è®°å½•æ—¥å¿—ï¼Œæ‰§è¡ŒåŒ…å«å‰¯ä½œç”¨çš„æ“ä½œéƒ½ä¸è¢«å…è®¸ï¼Œå¯èƒ½äº§ç”Ÿbug ç ´åUIä¸€è‡´æ€§")]),t._v(" "),s("p",[t._v("ä½¿ç”¨useEffectå®Œæˆå‰¯ä½œç”¨æ“ä½œ")]),t._v(" "),s("ul",[s("li",[t._v("å…±åŒç‚¹")])]),t._v(" "),s("p",[t._v("éƒ½æ˜¯å¤„ç†å‰¯ä½œç”¨ï¼ŒåŒ…æ‹¬ DOMæ”¹å˜ï¼Œè®¢é˜…è®¾ç½®ï¼Œå®šæ—¶å™¨æ“ä½œ")]),t._v(" "),s("ul",[s("li",[t._v("ä¸åŒç‚¹")])]),t._v(" "),s("p",[t._v("useEffect æ¸²æŸ“ä¹‹å‰ å¼‚æ­¥è°ƒç”¨ï¼Œä¸ä¼šç­‰å¾…DOMçœŸæ­£æ¸²æŸ“åæ‰§è¡Œï¼Œå¯èƒ½ä¼šé—ªçƒ")]),t._v(" "),s("p",[t._v("useLayoutEffect æ¸²æŸ“ä¹‹å‰ åŒæ­¥è°ƒç”¨ï¼Œä¸ä¼šé—ªçƒï¼Œ**æ€»æ˜¯æ¯” useEffectå…ˆæ‰§è¡Œï¼**å¯è·å–æ›´æ–°çš„state")]),t._v(" "),s("p",[s("code",[t._v("useLayoutEffect")]),t._v(" å’Œ "),s("code",[t._v("componentDidMount")]),t._v("ï¼Œ"),s("code",[t._v("componentDidUpdate")]),t._v(" æ‰§è¡Œæ—¶æœºä¸€æ ·ï¼Œåœ¨æµè§ˆå™¨å°†æ‰€æœ‰å˜åŒ–æ¸²æŸ“åˆ°å±å¹•ä¹‹å‰æ‰§è¡Œ")]),t._v(" "),s("p",[t._v("å»ºè®®ä½¿ç”¨ "),s("code",[t._v("useEffect")]),t._v("ï¼å»ºè®®ä½¿ç”¨ "),s("code",[t._v("useEffect")]),t._v("ï¼å»ºè®®ä½¿ç”¨ "),s("code",[t._v("useEffect")]),t._v("ï¼ é¿å…é˜»å¡è§†è§‰æ›´æ–°")]),t._v(" "),s("p",[t._v("é¡µé¢æœ‰å¼‚å¸¸å°±å†æ›¿æ¢ä¸º useLayoutEffect")]),t._v(" "),s("blockquote",[s("p",[t._v("é¡¹ç›®ä¸­ç”¨äºå‘é€è¯·æ±‚")])]),t._v(" "),s("blockquote",[s("h4",{attrs:{id:"ç¬¬äºŒä¸ªå‚æ•°-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äºŒä¸ªå‚æ•°-2"}},[t._v("#")]),t._v(" ç¬¬äºŒä¸ªå‚æ•°")])]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("èˆªç­ç³»ç»Ÿä¸­ä½¿ç”¨useEffectç¬¬äºŒå‚æ•°å¯¹ç³»ç»Ÿå‘é€è¯·æ±‚è¿›è¡Œä¼˜åŒ–ï¼Œä»…åœ¨ç»„ä»¶æŒ‚è½½å’Œå¸è½½æ—¶æ‰§è¡Œï¼Œä¼ é€’ä¸€ä¸ª"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("ï¼Œä½œä¸ºç¬¬äºŒå‚æ•°ï¼Œå‘Šè¯‰Reactæˆ‘çš„effectä¸ä¾èµ–äºpropsæˆ–stateä¸­çš„ä»»ä½•å€¼ï¼Œä¸éœ€è¦é‡å¤æ‰§è¡Œ\n\næ§åˆ¶ä¸åŒèˆªç­ä¿¡æ¯çš„å±•ç¤ºï¼Œä½¿ç”¨useEffectçš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ä¸€ä¸ªstateï¼Œæ§åˆ¶drawerçš„å˜åŒ–ï¼Œåªæœ‰stateå˜åŒ–äº†ï¼Œeffectæ‰ä¼šæ‰§è¡Œï¼Œasync-awaitæ‰§è¡Œç»“æŸï¼Œæ•°æ®æ›´æ–°ï¼Œæ‰“å¼€drawerå°±æœ‰æ•ˆæœäº†\n\næ”¶é›†å­ç»„ä»¶çš„å€¼ï¼Œå°†å‚æ•°å’Œå‡½æ•°ä¸€èµ·ä¼ å…¥å­ç»„ä»¶ï¼Œå­ç»„ä»¶è°ƒç”¨å‡½æ•°ï¼Œçˆ¶ç»„ä»¶å°±èƒ½æ¥æ”¶å­ç»„ä»¶çš„å€¼äº†ï¼Œæ ¹æ®ä¼ å›æ¥çš„æ•°æ®ï¼Œä»¥åŠåˆ¤æ–­URLï¼Œé‡æ–°è·å–æ•°æ®ï¼Œæ ¹æ®stateæ›´æ–°å¯¹åº”çš„å€¼ï¼Œæ¸²æŸ“ç•Œé¢\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("ç¬¬ä¸€ä¸ªå‚æ•° æ˜¯å›è°ƒå‡½æ•°")]),t._v(" "),s("p",[t._v("ç¬¬äºŒä¸ªå‚æ•° æ˜¯ä¾èµ–")]),t._v(" "),s("p",[t._v("å½“ç¬¬äºŒä¸ªå‚æ•°ä¸ºnullæˆ–undefinedæ—¶ï¼Œå›è°ƒæ¯æ¬¡ render éƒ½ä¼šæ‰§è¡Œï¼Œå‚æ•°ä¸ºæ•°ç»„æ—¶ï¼Œåªæœ‰ä¾èµ–å˜äº†æ‰ä¼šæ‰§è¡Œ")]),t._v(" "),s("p",[t._v("VDOMè½¬fiberçš„è¿‡ç¨‹å«åšreconcileï¼Œæ›´æ–°åˆ°DOMçš„è¿‡ç¨‹å«åš commitï¼Œreconcileçš„è¿‡ç¨‹å¯æ‰“æ–­ï¼Œéœ€è¦schedule")]),t._v(" "),s("p",[s("strong",[t._v("hooksä¹Ÿæ˜¯åŸºäºfiberå®ç°ï¼Œå®ƒåœ¨fiberèŠ‚ç‚¹ä¸Šç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼ˆmemorizedStateå±æ€§ï¼‰æ¥ä¿å­˜æ•°æ®ï¼Œæ¯ä¸ªhookéƒ½æ˜¯ä»å¯¹åº”çš„é“¾è¡¨å…ƒç´ ä¸Šå­˜å–å„è‡ªçš„æ•°æ®")])]),t._v(" "),s("p",[t._v("è¿™ä¸ªé“¾è¡¨å»ºç«‹çš„è¿‡ç¨‹å«åšâ€”â€”mountï¼Œä»¥ååªéœ€è¦updateï¼Œæ‰€ä»¥æ¯ä¸ªhookçš„å®ç°éƒ½åˆ†ä¸ºmountå’Œupdateä¸¤ä¸ªé˜¶æ®µ")]),t._v(" "),s("blockquote",[s("p",[t._v("useEffectç¬¬äºŒä¸ªå‚æ•°å¯¹åº”çš„æ˜¯ depsï¼Œå¦‚ä½•åˆ¤æ–­æ˜¯å¦è¦æ›´æ–°ï¼Ÿï¼Ÿ")])]),t._v(" "),s("p",[t._v("depsæ˜¯æ–°ä¼ å…¥çš„å‚æ•°ï¼Œè‹¥æ˜¯undefinedä¼šä½œä¸ºnullï¼Œhook.memorizedState.deps å–åˆ°çš„æ˜¯ä¹‹å‰çš„ deps")]),t._v(" "),s("p",[t._v("å¦‚æœ prevDeps æ˜¯ nullï¼Œç›´æ¥è¿”å› falseï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå‚æ•°ä¼  undefined æˆ– null å‡½æ•°éƒ½ä¼šæ‰§è¡Œ")]),t._v(" "),s("p",[t._v("å¦åˆ™ï¼Œæ‰ä¼šæ–°æ—§çš„ deps æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å¯¹æ¯”ï¼Œæœ‰ä¸€ä¸ªä¸ä¸€æ ·å°±è¿”å› false")]),t._v(" "),s("h2",{attrs:{id:"usememo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usememo"}},[t._v("#")]),t._v(" useMemo")]),t._v(" "),s("p",[t._v("å½“çˆ¶ç»„ä»¶ä¸­è°ƒç”¨å­ç»„ä»¶æ—¶ï¼Œçˆ¶ç»„ä»¶çš„stateå˜åŒ–ï¼Œä¼šå¯¼è‡´çˆ¶ç»„ä»¶æ›´æ–°ï¼Œå­ç»„ä»¶å³ä½¿æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿä¼šæ›´æ–°")]),t._v(" "),s("p",[t._v("å‡½æ•°å¼ç»„ä»¶ä»å¤´æ›´æ–°åˆ°å°¾ï¼Œåªè¦ä¸€å¤„æ”¹å˜ï¼Œæ‰€æœ‰æ¨¡å—éƒ½ä¼šåˆ·æ–°â€”â€”æ²¡å¿…è¦ï¼")]),t._v(" "),s("p",[t._v("ç†æƒ³çŠ¶æ€æ˜¯ å„ä¸ªæ¨¡å—åªè¿›è¡Œ è‡ªå·±çš„æ›´æ–°ï¼Œä¸ç›¸äº’å½±å“")]),t._v(" "),s("p",[t._v("useMemoä¸ºäº†é˜²æ­¢ä¸€ç§æƒ…å†µâ€”â€”çˆ¶ç»„ä»¶æ›´æ–°ï¼Œæ— è®ºæ˜¯å¦æœ€å­ç»„ä»¶æ“ä½œï¼Œå­ç»„ä»¶éƒ½ä¼šæ›´æ–°")]),t._v(" "),s("p",[t._v("memo ç»“åˆäº† PureComponent çº¯ç»„ä»¶ å’Œ componentShouldUpdate åŠŸèƒ½ï¼Œä¼šå¯¹ä¼ å…¥çš„propsè¿›è¡Œä¸€æ¬¡å¯¹æ¯”ï¼Œæ ¹æ®ç¬¬äºŒä¸ªå‡½æ•°è¿”å›å€¼åˆ¤æ–­å“ªäº›propséœ€è¦æ›´æ–°")]),t._v(" "),s("p",[t._v("useMemoå’Œmemoç±»ä¼¼ï¼Œéƒ½æ˜¯ åˆ¤æ–­ æ˜¯å¦æ»¡è¶³å½“å‰é™å®šæ¡ä»¶å†³å®šæ˜¯å¦æ‰§è¡Œ callback ï¼ŒuseMemoçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡è¿™ä¸ªæ•°ç»„åˆ¤æ–­æ˜¯å¦æ›´æ–°å›è°ƒå‡½æ•°")]),t._v(" "),s("p",[t._v("å¥½å¤„")]),t._v(" "),s("ul",[s("li",[t._v("å‡å°‘ä¸å¿…è¦ å¾ªç¯ å’Œ æ¸²æŸ“")]),t._v(" "),s("li",[t._v("å‡å°‘ å­ç»„ä»¶ æ¸²æŸ“æ¬¡æ•°")]),t._v(" "),s("li",[t._v("é¿å…ä¸å¿…è¦ çš„å¼€é”€")])]),t._v(" "),s("h2",{attrs:{id:"usecallback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usecallback"}},[t._v("#")]),t._v(" useCallback")]),t._v(" "),s("p",[t._v("å’ŒuseMemo "),s("strong",[t._v("å¯ä»¥è¯´æ˜¯ä¸€æ¨¡ä¸€æ ·")]),t._v("ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯useMemoè¿”å›å‡½æ•°è¿è¡Œç»“æœï¼Œè€ŒuseCallbackè¿”å›å‡½æ•°")]),t._v(" "),s("p",[t._v("ç¼“å­˜å›è°ƒï¼Œé¿å…ä¼ å…¥çš„å›è°ƒæ¯æ¬¡éƒ½æ˜¯æ–°çš„å‡½æ•°å®ä¾‹å¯¼è‡´ä¾èµ–ç»„ä»¶re-render")]),t._v(" "),s("p",[t._v("æ˜¯çˆ¶ç»„ä»¶ä¼ é€’å­ç»„ä»¶çš„ ä¸€ä¸ªå‡½æ•°ï¼Œé˜²æ­¢æ— å…³ åˆ·æ–°ï¼Œå¿…é¡»é…åˆ memoï¼Œå¦åˆ™å¯èƒ½ è¿˜ä¼šé™ä½ æ€§èƒ½")]),t._v(" "),s("h2",{attrs:{id:"useref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useref"}},[t._v("#")]),t._v(" useRef")]),t._v(" "),s("p",[t._v("è·å–ç»„ä»¶çœŸå®èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ï¼Œä¸”è¿™ä¸ªå¯¹è±¡ åªæœ‰ current å±æ€§ï¼Œå¯è®¾ç½® initialValue")]),t._v(" "),s("blockquote",[s("p",[t._v("ç¼“å­˜æ•°æ®")])]),t._v(" "),s("p",[t._v("react-redux æºç ä¸­ï¼Œhooksæ¨å‡ºåï¼Œreact-reduxç”¨å¤§é‡çš„useMemoé‡åšäº† Provide ç­‰æ ¸å¿ƒæ¨¡å—ï¼Œè¿ç”¨äº†useRef ç¼“å­˜æ•°æ®ï¼Œæ‰€è¿ç”¨çš„useRef() æ²¡æœ‰ä¸€ä¸ªæ˜¯ç»‘å®šåœ¨domå…ƒç´ ä¸Šçš„ï¼Œéƒ½æ˜¯ç”¨äºæ•°æ®ç¼“å­˜")]),t._v(" "),s("p",[t._v("react-redux åˆ©ç”¨ é‡æ–°èµ‹å€¼ï¼Œæ”¹å˜äº†ç¼“å­˜çš„æ•°æ®ï¼Œå‡å°‘ä¸å¿…è¦æ›´æ–°ï¼Œå¦‚æœä½¿ç”¨userStateåŠ¿å¿…ä¼šre-render")]),t._v(" "),s("h3",{attrs:{id:"ä¸ºå•¥refè·å–ä¸åˆ°hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºå•¥refè·å–ä¸åˆ°hooks"}},[t._v("#")]),t._v(" ä¸ºå•¥refè·å–ä¸åˆ°hooksï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"æ€»ç»“-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-2"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€ä¸ªä¼˜ç§€çš„hooksä¸€å®šå…·å¤‡ useMemo useCallback ç­‰api ä¼˜åŒ–")]),t._v(" "),s("li",[t._v("åˆ¶ä½œè‡ªå®šä¹‰hooksé‡åˆ°ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨useRefï¼Œå†è€ƒè™‘ä½¿ç”¨useState")]),t._v(" "),s("li",[t._v("å°è£…æ—¶ï¼Œåº”è¯¥å°†å­˜æ”¾çš„å€¼æ”¾å…¥useRefä¸­")])]),t._v(" "),s("h1",{attrs:{id:"hooksåŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hooksåŸç†"}},[t._v("#")]),t._v(" HooksåŸç†")]),t._v(" "),s("p",[t._v("hooksçš„æœ¬è´¨æ˜¯é“¾è¡¨ï¼Œä¿å­˜åœ¨ç»„ä»¶å¯¹åº”fiberçš„memoizedStateä¸­")]),t._v(" "),s("h1",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" ğŸ™‹ ref")]),t._v(" "),s("p",[t._v("ref --\x3e referenceï¼šå¼•ç”¨")]),t._v(" "),s("p",[t._v("Reactä¸­ å¼•ç”¨ç®€å†™ï¼Œæ˜¯ä¸€ä¸ª å±æ€§ï¼ŒåŠ©äº å­˜å‚¨ å¯¹Reactå…ƒç´  æˆ– ç»„ä»¶çš„å¼•ç”¨ï¼Œå¼•ç”¨ç”±ç»„ä»¶æ¸²æŸ“é…ç½®å‡½æ•°è¿”å›")]),t._v(" "),s("p",[t._v("refä½¿ç”¨æœ‰ä¸‰ç§æ–¹å¼ï¼šå­—ç¬¦ä¸²(ä¸æ¨èä½¿ç”¨)ï¼Œå¯¹è±¡ï¼Œå‡½æ•°")]),t._v(" "),s("p",[t._v("1ã€å­—ç¬¦ä¸² React16 ä¹‹å‰ç”¨çš„æœ€å¤šçš„ï¼Œå¦‚")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("2ã€å‡½æ•°æ ¼å¼ï¼Œrefå¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå³ï¼Œå¯¹åº”çš„èŠ‚ç‚¹å®ä¾‹")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ele")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ele"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("3ã€createRefæ–¹æ³•ï¼ŒReact16 æä¾›çš„APIï¼Œä½¿ç”¨React.createRef()å®ç°")]),t._v(" "),s("h2",{attrs:{id:"ä½¿ç”¨åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),s("ul",[s("li",[t._v("inputæ ‡ç­¾èšç„¦")]),t._v(" "),s("li",[t._v("å¸Œæœ›ç›´æ¥ä½¿ç”¨DOMå…ƒç´ ä¸­çš„æŸä¸ªæ–¹æ³•ï¼Œæˆ–è€…"),s("strong",[t._v("ç›´æ¥ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„æŸä¸€ä¸ªæ–¹æ³•")])]),t._v(" "),s("li",[t._v("refä½œç”¨äºå†…ç½®çš„HTMLç»„ä»¶ï¼Œå¾—åˆ°çš„å°†æ˜¯çœŸå®çš„DOMå…ƒç´ ")]),t._v(" "),s("li",[t._v("refä½œç”¨äºç±»ç»„ä»¶ï¼Œå¾—åˆ°çš„å°†æ˜¯ç±»çš„å®ä¾‹")]),t._v(" "),s("li",[t._v("refä¸èƒ½ä½œç”¨äºå‡½æ•°ç»„ä»¶ï¼Œå› ä¸ºå‡½æ•°ç»„ä»·æ²¡æœ‰å®ä¾‹ï¼Œä½†æ˜¯å‡½æ•°ç»„ä»¶ä¸­å¯ä»¥ä¼ é€’ref")])]),t._v(" "),s("h2",{attrs:{id:"å¦‚ä½•ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ä½¿ç”¨"}},[t._v("#")]),t._v(" å¦‚ä½•ä½¿ç”¨")]),t._v(" "),s("ol",[s("li",[t._v("class ç»„ä»¶ "),s("code",[t._v("React.createRef()")]),t._v(" å£°æ˜")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("åœ¨å‡½æ•°ç»„ä»¶ä½¿ç”¨ React.forwardRef() æ¥æš´éœ²å‡½æ•°ç»„ä»¶çš„ DOM å…ƒç´ ")])]),t._v(" "),s("div",{staticClass:"language-JS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Input "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forwardRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("clickHandle")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ“ä½œInputç»„ä»¶èšç„¦")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clickHandle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          ç‚¹å‡»\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Input ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("h2",{attrs:{id:"renderä¸èƒ½è®¿é—®refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderä¸èƒ½è®¿é—®refs"}},[t._v("#")]),t._v(" renderä¸èƒ½è®¿é—®refs")]),t._v(" "),s("p",[t._v("å› ä¸º render é˜¶æ®µ DOMè¿˜æœªç”Ÿæˆï¼Œæ— æ³•è·å– DOMï¼ŒDOMçš„è·å–éœ€è¦åœ¨ pre-commit å’Œ commit é˜¶æ®µ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spanRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spanRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœ‰å€¼'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ— å€¼'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("ä¸å¯ä»¥ï¼")]),t._v(" "),s("p",[t._v("å› ä¸ºrenderé˜¶æ®µDOMè¿˜æ²¡æœ‰ç”Ÿæˆ")]),t._v(" "),s("p",[t._v("DOMçš„è·å–åº”è¯¥åœ¨ pre-commit é˜¶æ®µå’Œ commit é˜¶æ®µ")]),t._v(" "),s("h1",{attrs:{id:"é«˜é˜¶ç»„ä»¶-hoc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é«˜é˜¶ç»„ä»¶-hoc"}},[t._v("#")]),t._v(" ğŸŠ é«˜é˜¶ç»„ä»¶(HOC)")]),t._v(" "),s("p",[t._v('æ˜¯"çº¯ç»„ä»·"ï¼Œè§£å†³**'),s("u",[s("em",[t._v("ä»£ç å¤ç”¨ï¼")])]),t._v("**")]),t._v(" "),s("p",[t._v("ä¸æ˜¯react API çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºReactçš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„è®¾è®¡æ¨¡å¼ï¼ŒHOC æ˜¯å‚æ•°ä¸º ç»„**"),s("u",[s("em",[t._v("ä»¶ï¼Œè¿”å›å€¼ä¸º æ–°ç»„ä»¶ çš„å‡½æ•°ï¼")])]),t._v("**")]),t._v(" "),s("p",[t._v("ä¼˜ç‚¹")]),t._v(" "),s("ul",[s("li",[t._v("é€»è¾‘å¤ç”¨ã€ä¸å½±å“è¢«åŒ…è£¹ç»„ä»¶çš„å†…éƒ¨é€»è¾‘")]),t._v(" "),s("li",[t._v("ç¼ºç‚¹æ˜¯HOCä¼ é€’ç»™è¢« åŒ…è£¹ç»„ä»¶çš„props å®¹æ˜“å’Œè¢«åŒ…è£¹åçš„ç»„ä»¶ é‡åï¼Œè¢«è¦†ç›–")])]),t._v(" "),s("blockquote",[s("p",[t._v("æ­¤å¤„æœ±äº‘åšåŸ¹è®­æ—¶è®²è¿‡ï¼ŒBasicLayoutä¸­å°±å­˜åœ¨è¿™ä¸ªæƒ…å†µï¼Œ"),s("strong",[t._v("ä¸çŸ¥é“è°ä¼ é€’çš„å‚æ•°ï¼Œè€Œä¸”å‚æ•°åå®¹æ˜“è¢«è¦†ç›–")])])]),t._v(" "),s("p",[s("strong",[s("u",[s("em",[t._v("HOCå°±æ˜¯è£…é¥°å™¨æ¨¡å¼çš„å®ç°")])])]),t._v("ï¼šé€šè¿‡ç»™å‡½æ•°ä¼ å…¥ä¸€ä¸ªç»„ä»¶ååœ¨å‡½æ•°å†…éƒ¨å¯¹è¯¥ç»„ä»¶ è¿›è¡ŒåŠŸèƒ½çš„å¢å¼ºï¼Œæœ€åè¿”å›è¿™ä¸ªç»„ä»¶ï¼Œå³å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„ç»„ä»¶æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ä¿®æ”¹è¯¥ç»„ä»¶")]),t._v(" "),s("h1",{attrs:{id:"å‡½æ•°å¼ç¼–ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°å¼ç¼–ç¨‹"}},[t._v("#")]),t._v(" å‡½æ•°å¼ç¼–ç¨‹")]),t._v(" "),s("h2",{attrs:{id:"å£°æ˜å¼ç¼–ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜å¼ç¼–ç¨‹"}},[t._v("#")]),t._v(" å£°æ˜å¼ç¼–ç¨‹")]),t._v(" "),s("h2",{attrs:{id:"æƒ°æ€§æ‰§è¡Œ-lazy-evaluation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒ°æ€§æ‰§è¡Œ-lazy-evaluation"}},[t._v("#")]),t._v(" æƒ°æ€§æ‰§è¡Œï¼ˆLazy Evaluationï¼‰")]),t._v(" "),s("p",[t._v("å‡½æ•°åªåœ¨éœ€è¦çš„æ—¶å€™æ‰§è¡Œï¼Œå³ä¸äº§ç”Ÿæ— æ„ä¹‰çš„ä¸­é—´å˜é‡ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ ¸å¿ƒæ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒæ¦‚å¿µ"}},[t._v("#")]),t._v(" æ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),s("h3",{attrs:{id:"æ•°æ®ä¸å¯å˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ä¸å¯å˜"}},[t._v("#")]),t._v(" æ•°æ®ä¸å¯å˜")]),t._v(" "),s("h3",{attrs:{id:"æ— çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ— çŠ¶æ€"}},[t._v("#")]),t._v(" æ— çŠ¶æ€")]),t._v(" "),s("p",[t._v("å¼ºè°ƒå¯¹äºä¸€ä¸ªå‡½æ•°ï¼Œä¸ç®¡åˆé€‚è¿è¡Œï¼Œå®ƒéƒ½åº”è¯¥åƒç¬¬ä¸€æ¬¡è¿è¡Œä¸€æ ·ï¼Œç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œç»™å‡ºç›¸åŒçš„è¾“å‡ºï¼Œå®Œå…¨ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€çš„å˜åŒ–ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/1650114937658.png",alt:"1650114937658"}})]),t._v(" "),s("h2",{attrs:{id:"æ²¡æœ‰å‰¯ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ²¡æœ‰å‰¯ä½œç”¨"}},[t._v("#")]),t._v(" æ²¡æœ‰å‰¯ä½œç”¨")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ä¼ é€’å¼•ç”¨ä¸€æ—¶çˆ½ï¼Œä»£ç é‡æ„ç«è‘¬åœº\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"çº¯å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çº¯å‡½æ•°"}},[t._v("#")]),t._v(" çº¯å‡½æ•°")]),t._v(" "),s("h1",{attrs:{id:"å¼€å‘æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘æ¨¡å¼"}},[t._v("#")]),t._v(" ğŸ’™ å¼€å‘æ¨¡å¼")]),t._v(" "),s("h2",{attrs:{id:"spa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spa"}},[t._v("#")]),t._v(" SPA")]),t._v(" "),s("p",[t._v("å•é¡µé¢åº”ç”¨ï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„Reactå°±æ˜¯å…¸å‹çš„å•é¡µé¢åº”ç”¨")]),t._v(" "),s("h2",{attrs:{id:"mpa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mpa"}},[t._v("#")]),t._v(" MPA")]),t._v(" "),s("h2",{attrs:{id:"mvvm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mvvm"}},[t._v("#")]),t._v(" MVVM")]),t._v(" "),s("p",[t._v("Model-View-ViewModelï¼ŒModelæ•°æ®æ¨¡å‹ï¼ŒViewè¡¨ç¤ºUIç»„ä»¶ï¼ŒViewModelå°†Modelå’ŒViewå…³è”èµ·æ¥")]),t._v(" "),s("p",[t._v("æ•°æ®ç»‘å®šåˆ°viewModelå±‚å¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼Œè§†å›¾å˜åŒ–æ—¶é€šçŸ¥viewModelå±‚æ›´æ–°æ•°æ®")]),t._v(" "),s("p",[t._v("å°†JSé€»è¾‘ä»ç¹ççš„DOMæ“ä½œä¸­æŠ½ç¦»å‡ºæ¥")]),t._v(" "),s("p",[s("strong",[s("u",[t._v("é€šä¿¡æ˜¯åŒå‘çš„")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5paH6buY,size_20,color_FFFFFF,t_70,g_se,x_16-16618573458566-16618573478768.png",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("blockquote",[s("p",[t._v("åº”ç”¨åœºæ™¯")])]),t._v(" "),s("ul",[s("li",[t._v("é’ˆå¯¹å…·æœ‰å¤æ‚äº¤äº’é€»è¾‘çš„å‰ç«¯åº”ç”¨")]),t._v(" "),s("li",[t._v("æä¾›å¤æ‚æ¶æ„æŠ½è±¡")]),t._v(" "),s("li",[t._v("Ajaxæ•°æ®æŒä¹…åŒ–ï¼Œä¿è¯ç”¨æˆ·ä½“éªŒ")])]),t._v(" "),s("h2",{attrs:{id:"mvc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mvc"}},[t._v("#")]),t._v(" MVC")]),t._v(" "),s("p",[t._v("Model View Controller")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5paH6buY,size_20,color_FFFFFF,t_70,g_se,x_16-16618573121925.png",alt:" "}})]),t._v(" "),s("p",[s("strong",[s("u",[t._v("æ‰€æœ‰é€šä¿¡éƒ½æ˜¯å•å‘çš„")])])]),t._v(" "),s("h2",{attrs:{id:"mvvmã€mvc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mvvmã€mvc"}},[t._v("#")]),t._v(" MVVMã€MVC")]),t._v(" "),s("p",[t._v("MVCæ˜¯åç«¯çš„æ€æƒ³")]),t._v(" "),s("p",[t._v("MVVMæ˜¯å‰ç«¯çš„æ€æƒ³")]),t._v(" "),s("h2",{attrs:{id:"å•å‘æ•°æ®æµæ¡†æ¶å§‹ç¥–flux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å•å‘æ•°æ®æµæ¡†æ¶å§‹ç¥–flux"}},[t._v("#")]),t._v(" å•å‘æ•°æ®æµæ¡†æ¶å§‹ç¥–Flux")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªFluxåº”ç”¨åŒ…å«å››ä¸ªéƒ¨åˆ†")]),t._v(" "),s("ol",[s("li",[t._v("dispatcherï¼Œå¤„ç†åŠ¨ä½œåˆ†å‘ï¼Œç»´æŒstoreä¹‹é—´çš„ä¾èµ–ç®¡ç†")]),t._v(" "),s("li",[t._v("store è´Ÿè´£å­˜å‚¨æ•°æ®å’Œå¤„ç†æ•°æ®é€»è¾‘")]),t._v(" "),s("li",[t._v("action é©±åŠ¨dispatcherçš„JSå¯¹è±¡")]),t._v(" "),s("li",[t._v("view è§†å›¾éƒ¨åˆ†ï¼Œè´Ÿè´£ç”¨æˆ·ç•Œé¢çš„æ˜¾ç¤º")])]),t._v(" "),s("p",[t._v("è®¿é—®viewâ€”â€”viewå‘é€ actionâ€”â€”dispatcheræ¥æ”¶actionâ€”â€”storeæ›´æ–°â€”â€”å‘é€changeäº‹ä»¶â€”â€”viewæ›´æ–°é¡µé¢")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://kstar-1253855093.cos.ap-nanjing.myqcloud.com/baguwenpdf/202207210940314.png",alt:"Flux -React é¢è¯•é—®é¢˜ - Edureka"}})]),t._v(" "),s("h2",{attrs:{id:"import-react-å¯¼è‡´æ–‡ä»¶å˜å¤§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-react-å¯¼è‡´æ–‡ä»¶å˜å¤§"}},[t._v("#")]),t._v(" import react å¯¼è‡´æ–‡ä»¶å˜å¤§ï¼Ÿ")]),t._v(" "),s("p",[t._v("Gzipå‹ç¼©")]),t._v(" "),s("h1",{attrs:{id:"reactè·¯ç”±æ‡’åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactè·¯ç”±æ‡’åŠ è½½"}},[t._v("#")]),t._v(" Reactè·¯ç”±æ‡’åŠ è½½")]),t._v(" "),s("h2",{attrs:{id:"react-lazy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-lazy"}},[t._v("#")]),t._v(" React.lazy")]),t._v(" "),s("p",[t._v("React16.6æ–°å¢React.lazyæ–¹æ³•ï¼Œåƒæ¸²æŸ“å¸¸è§„ç»„ä»¶ä¸€æ ·å¤„ç†åŠ¨æ€å¼•å…¥çš„ç»„ä»¶ï¼Œé…åˆ webpack çš„ Code Splitting ï¼Œåªæœ‰å½“ç»„ä»¶è¢«åŠ è½½ï¼Œå¯¹åº”çš„èµ„æºæ‰ä¼šå¯¼å…¥ ï¼Œä»è€Œè¾¾åˆ°æ‡’åŠ è½½çš„æ•ˆæœã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä½¿ç”¨-react-lazy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-react-lazy"}},[t._v("#")]),t._v(" ä½¿ç”¨ React.lazy")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ä½¿ç”¨ React.lazy")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" OtherComponent "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./OtherComponent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ React.lazy")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" OtherComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./OtherComponent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("React.lazy æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦è°ƒç”¨ import() ã€‚å®ƒéœ€è¦è¿”å›ä¸€ä¸ª Promiseï¼Œè¯¥ Promise éœ€è¦ resolve ä¸€ä¸ª defalut export çš„ React ç»„ä»¶ã€‚")]),t._v(" "),s("p",[t._v("React.lazy æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª lazy ç»„ä»¶çš„å¯¹è±¡ï¼Œç±»å‹æ˜¯ react.lazyï¼Œå¹¶ä¸” lazy ç»„ä»¶å…·æœ‰ _status å±æ€§ï¼Œä¸ Promise ç±»ä¼¼å®ƒå…·æœ‰ Pendingã€Resolvedã€Rejected ä¸‰ä¸ªçŠ¶æ€ï¼Œåˆ†åˆ«ä»£è¡¨ç»„ä»¶çš„åŠ è½½ä¸­ã€å·²åŠ è½½ã€å’ŒåŠ è½½å¤±è´¥ä¸‰ä¸­çŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒReact.lazy éœ€è¦é…åˆ Suspense ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨ Suspense ç»„ä»¶ä¸­æ¸²æŸ“ React.lazy å¼‚æ­¥åŠ è½½çš„ç»„ä»¶ã€‚å¦‚æœå•ç‹¬ä½¿ç”¨ React.lazyï¼ŒReact ä¼šç»™å‡ºé”™è¯¯æç¤ºã€‚")]),t._v(" "),s("h3",{attrs:{id:"suspense-ç»„ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#suspense-ç»„ä»¶"}},[t._v("#")]),t._v(" Suspense ç»„ä»¶")]),t._v(" "),s("p",[t._v("Suspense å†…éƒ¨ä¸»è¦é€šè¿‡æ•è·ç»„ä»¶çš„çŠ¶æ€å»åˆ¤æ–­å¦‚ä½•åŠ è½½ï¼Œä¸Šé¢æˆ‘ä»¬æåˆ° React.lazy åˆ›å»ºçš„åŠ¨æ€åŠ è½½ç»„ä»¶å…·æœ‰ Pendingã€Resolvedã€Rejected ä¸‰ç§çŠ¶æ€ï¼Œå½“è¿™ä¸ªç»„ä»¶çš„çŠ¶æ€ä¸º Pending æ—¶æ˜¾ç¤ºçš„æ˜¯ Suspense ä¸­ fallback çš„å†…å®¹ï¼Œåªæœ‰çŠ¶æ€å˜ä¸º resolve åæ‰æ˜¾ç¤ºç»„ä»¶")]),t._v(" "),s("h1",{attrs:{id:"vdom-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vdom-2"}},[t._v("#")]),t._v(" â­ï¸ VDom")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå¯¹è±¡ï¼Œæœ€å°‘åŒ…å«tagã€propså’Œchildrenä¸‰ä¸ªå±æ€§ï¼Œå°†çœŸå®çš„DOMæ ‘è½¬æ¢ä¸ºJSå¯¹è±¡æ ‘ï¼ŒVDå’Œdomå¯¹è±¡ä¸€ä¸€å¯¹åº”")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myButton"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" is button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è½¬æ¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myButton'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("children")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'span'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("children")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'this is button'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("å°†å¤šæ¬¡DOMä¿®æ”¹çš„ç»“æœä¸€æ¬¡æ€§æ›´æ–°åˆ°é¡µé¢ä¸Šï¼Œæœ‰æ•ˆå‡å°‘é¡µé¢æ¸²æŸ“æ¬¡æ•°ï¼Œå‡å°‘ä¿®æ”¹DOMçš„é‡æ’é‡ç»˜æ¬¡æ•°ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½")]),t._v(" "),s("p",[t._v("ä¼˜è¶Šä¹‹å¤„åœ¨äºï¼Œæä¾›æ›´çˆ½çš„ã€æ›´é«˜æ•ˆçš„ç ”å‘æ¨¡å¼(å‡½æ•°å¼çš„UIç¼–ç¨‹æ¨¡å¼)çš„åŒæ—¶ï¼Œä»ç„¶ä¿æŒè¿˜ä¸é”™çš„æ€§èƒ½")]),t._v(" "),s("ul",[s("li",[t._v("ä¿è¯æ€§èƒ½ä¸‹é™ï¼Œä¸æ‰‹åŠ¨ä¼˜åŒ–æ—¶ï¼Œæä¾›è¿‡å¾—å»çš„æ€§èƒ½")]),t._v(" "),s("li",[t._v("è·¨å¹³å°")])]),t._v(" "),s("p",[t._v("åŸç”ŸDOMæœ‰å¾ˆå¤šå±æ€§å’Œäº‹ä»¶ï¼Œåˆ›å»ºç©ºçš„divä¹Ÿè¦ä»˜å‡ºå¾ˆå¤šä»£ä»·ï¼Œå¯é€šè¿‡diffç®—æ³•å’Œæ•°æ®æ”¹å˜å‰çš„DOMå¯¹æ¯”ï¼Œè®¡ç®—å‡ºéœ€è¦ä¿®æ”¹çš„DOMï¼Œåªå¯¹å˜åŒ–çš„DOMæ“ä½œï¼Œè€Œä¸æ˜¯æ›´æ–°æ•´ä¸ªè§†å›¾")]),t._v(" "),s("h2",{attrs:{id:"render"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#render"}},[t._v("#")]),t._v(" render()")]),t._v(" "),s("p",[t._v("1.æ„å»ºè™šæ‹Ÿ DOM")]),t._v(" "),s("p",[t._v("2.é€šè¿‡è™šæ‹Ÿ DOM æ„å»ºçœŸæ­£çš„ DOM")]),t._v(" "),s("p",[t._v("3.ç”Ÿæˆæ–°çš„ VDOM")]),t._v(" "),s("p",[t._v("4.æ¯”è¾ƒä¸¤æ£µ VDOM å¼‚åŒ")]),t._v(" "),s("p",[t._v("5.åº”ç”¨å˜æ›´äº DOM")]),t._v(" "),s("h2",{attrs:{id:"diff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff"}},[t._v("#")]),t._v(" diff")]),t._v(" "),s("p",[t._v("DOMæ˜¯å¤šå‰æ ‘ç»“æ„ï¼Œè‹¥å®Œæ•´å¯¹æ¯”ä¸¤æ£µæ ‘çš„å·®å¼‚ï¼Œæ—¶é—´å¤æ‚åº¦é«˜ï¼ŒReactå›¢é˜Ÿä¼˜åŒ–å®ç°äº†O(n)çš„å¤æ‚åº¦")]),t._v(" "),s("p",[s("strong",[t._v("å…³é”®æ˜¯åªå¯¹æ¯”åŒå±‚èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯è·¨å±‚å¯¹æ¯”")])]),t._v(" "),s("ol",[s("li",[t._v("JSå»ºç«‹èŠ‚ç‚¹æè¿°å¯¹è±¡")]),t._v(" "),s("li",[t._v("çŠ¶æ€æˆ–å±æ€§æ”¹å˜åé‡æ–°è®¡ç®—VDç”Ÿæˆè¡¥ä¸å¯¹è±¡ï¼Œdiffæ¯”è¾ƒåˆ†ææ–°æ—§VDOMå·®å¼‚")]),t._v(" "),s("li",[t._v("å°†å·®å¼‚patchåˆ°ADOMå®ç°æ›´æ–°")])]),t._v(" "),s("p",[t._v("JSå±‚é¢çš„è®¡ç®—è¿”å›ä¸€ä¸ªpatchå¯¹è±¡ï¼Œå³è¡¥ä¸ï¼Œé€šè¿‡ç‰¹å®šçš„æ“ä½œè§£æpatchï¼Œå®Œæˆé¡µé¢re-render")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/1609406214678-c2afb29a-fcbc-4d54-8970-97cb7f20fe20.jpeg",alt:"CgqCHl_qyouAAkb9AAB_cmWuZhc920_mh1609406106571.jpg"}})]),t._v(" "),s("ol",[s("li",[t._v("ADOMæ˜ å°„ä¸ºVDOM")]),t._v(" "),s("li",[t._v("VDOMå˜åŒ–åï¼Œæ ¹æ®å·®è·ç”Ÿæˆpatchï¼Œè¿™ä¸ªpatchæ˜¯ç»“æ„åŒ–æ•°æ®ï¼ŒåŒ…æ‹¬å¢åŠ  æ›´æ–° å’Œç§»é™¤")]),t._v(" "),s("li",[t._v("æ ¹æ®patchæ›´æ–° ADOM")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/%5C1609406240365-40166729-9e07-43a2-a9f2-71838e830ad8.jpeg",alt:"CgqCHl_qypGAZPuGAADYrK9nkJY878_mh1609406162857.jpg"}})]),t._v(" "),s("p",[t._v("å¤§éƒ¨åˆ†diffç®—æ³•æ€è·¯æ˜¯")]),t._v(" "),s("ul",[s("li",[t._v("åªæ¯”è¾ƒåŒä¸€å±‚çº§ï¼Œä¸è·¨çº§æ¯”è¾ƒ")]),t._v(" "),s("li",[t._v("tagä¸åŒï¼Œç›´æ¥åˆ é™¤é‡å»ºï¼Œä¸å†æ·±åº¦æ¯”è¾ƒ")]),t._v(" "),s("li",[t._v("tagå’Œkeyéƒ½ç›¸åŒï¼Œåˆ™è®¤ä¸ºæ˜¯ç›¸åŒèŠ‚ç‚¹ï¼Œä¸å†æ·±åº¦æ¯”è¾ƒ")])]),t._v(" "),s("p",[t._v("diff ä» "),s("strong",[s("u",[t._v("æ ‘ ç»„ä»¶ åŠ å…ƒç´ ")])]),t._v(" 3ä¸ªå±‚é¢è¿›è¡Œå¤æ‚åº¦çš„ä¼˜åŒ–")]),t._v(" "),s("p",[t._v("æ ‘diff")]),t._v(" "),s("blockquote",[s("p",[t._v("æ–°æ—§ä¸¤æ£µæ ‘é€å±‚å¯¹æ¯”ï¼Œæ‰¾åˆ°éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹")]),t._v(" "),s("p",[t._v("è‹¥èŠ‚ç‚¹æ˜¯ç»„ä»¶å°±  component diff")]),t._v(" "),s("p",[t._v("1ã€å¿½ç•¥èŠ‚ç‚¹è·¨å±‚çº§æ“ä½œ")]),t._v(" "),s("p",[t._v("è‹¥èŠ‚ç‚¹ä¸å­˜åœ¨äº†ï¼Œåˆ™è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ä¼šè¢«åˆ é™¤æ‰ï¼Œä¸ä¼šè¿›ä¸€æ­¥æ¯”è¾ƒ")])]),t._v(" "),s("p",[t._v("ç»„ä»¶diff")]),t._v(" "),s("blockquote",[s("p",[t._v("èŠ‚ç‚¹æ˜¯ç»„ä»¶ï¼Œå…ˆçœ‹ç»„ä»¶ç±»å‹")]),t._v(" "),s("p",[t._v("ç±»å‹ä¸åŒç›´æ¥æ›¿æ¢(åˆ é™¤æ—§çš„)")]),t._v(" "),s("p",[t._v("ç±»å‹ç›¸åŒåˆ™åªæ›´æ–°å±æ€§ï¼Œæ·±å…¥ç»„ä»¶åšæ ‘diff(é€’å½’)")]),t._v(" "),s("p",[t._v("è‹¥ç»„ä»¶ æ˜¯åŒä¸€ç±»å‹å°±è¿›è¡Œæ ‘ å¯¹æ¯”ï¼Œå¦‚æœä¸æ˜¯å°±ç›´æ¥æ”¾å…¥ patchä¸­ï¼Œåªè¦çˆ¶ç»„ä»¶ç±»å‹ä¸ä¸€è‡´ï¼Œå°±ä¼šre-render")])]),t._v(" "),s("p",[t._v("å…ƒç´ diff")]),t._v(" "),s("blockquote",[s("p",[t._v("è‹¥èŠ‚ç‚¹æ˜¯åŸç”Ÿæ ‡ç­¾ï¼Œåˆ™çœ‹æ ‡ç­¾å")]),t._v(" "),s("p",[s("strong",[t._v("æ ‡ç­¾åä¸åŒç›´æ¥æ›¿æ¢ï¼Œç›¸åŒåˆ™åªæ›´æ–°å±æ€§ï¼Œè¿›å…¥æ ‡ç­¾åä»£åšæ ‘diff")])])]),t._v(" "),s("p",[s("strong",[s("u",[s("em",[t._v("åŒä¸€å±‚çº§å­èŠ‚ç‚¹ï¼Œé€šè¿‡key è¿›è¡Œåˆ—è¡¨å¯¹æ¯”")])])])]),t._v(" "),s("p",[t._v("æ ‡è®°keyï¼ŒReact å¯ä»¥ç›´æ¥ç§»åŠ¨ DOMèŠ‚ç‚¹ï¼Œé™ä½æ¶ˆè€—")]),t._v(" "),s("p",[s("strong",[s("u",[s("em",[t._v("patchåšäº†å•¥")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/58f567538c1d4cffa7264cf5467ed271tplv-k3u1fbpfcp-zoom-in-crop-mark4536000.image",alt:"image-20210728172052418"}})]),t._v(" "),s("h2",{attrs:{id:"re-render"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#re-render"}},[t._v("#")]),t._v(" re-render")]),t._v(" "),s("ol",[s("li",[t._v("å¯¹æ¯”æ–°æ—§ VNodeï¼Œä½¿ç”¨ diffç®—æ³•")]),t._v(" "),s("li",[t._v("å¯¹æ–°æ—§ä¸¤æ£µæ ‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œæ ‡è®°æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ¯éå†ä¸€ä¸ªï¼Œå°±æŠŠè¯¥èŠ‚ç‚¹å’Œæ–°çš„èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼Œæœ‰å·®å¼‚å°±æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­")]),t._v(" "),s("li",[t._v("éå†å·®å¼‚å¯¹è±¡ï¼Œæ ¹æ®å¯¹åº” è§„åˆ™ æ›´æ–°VNode")])]),t._v(" "),s("p",[t._v("VDOM ä¼˜åŠ¿ä¹‹å¤„åœ¨äºï¼Œä¸ç®¡æ•°æ®å¦‚ä½•å˜åŒ–ï¼Œå®ƒéƒ½ä¼šå°½é‡ä»¥æœ€å°çš„ä»£ç æ›´æ–° DOM")]),t._v(" "),s("h1",{attrs:{id:"vdomæ¯”åŸç”Ÿå¿«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vdomæ¯”åŸç”Ÿå¿«"}},[t._v("#")]),t._v(" VDOMæ¯”åŸç”Ÿå¿«ï¼Ÿ")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.zhihu.com/question/31809713/answer/53544875",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç½‘ä¸Šéƒ½è¯´æ“ä½œçœŸå® DOM æ…¢ï¼Œä½†æµ‹è¯•ç»“æœå´æ¯” React æ›´å¿«ï¼Œä¸ºä»€ä¹ˆï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("h1",{attrs:{id:"react17æ–°ç‰¹æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react17æ–°ç‰¹æ€§"}},[t._v("#")]),t._v(" React17æ–°ç‰¹æ€§")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.cn/post/6974617278784471048#heading-5",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸€èµ·æ¥çœ‹ React 18 æœ€æ–°ç‰¹æ€§"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zh-hans.reactjs.org/blog/2021/06/08/the-plan-for-react-18.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 18 å¸¦æ¥äº†ä»€ä¹ˆ â€”â€”å®˜ç½‘"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("V15-V16ï¼Œæºç æ¶æ„ä¸­çš„ Stack Reconciler-Fiber Reconciler")]),t._v(" "),s("p",[t._v("å¯å‘å¼æ›´æ–°ç®—æ³•â€”â€”å¯¹å¼€å‘è€…æ— æ„ŸçŸ¥")]),t._v(" "),s("p",[t._v("Reactçº¯JSå†™æ³•å¤ªè¿‡çµæ´»ï¼Œç¼–è¯‘æ—¶ä¼˜åŒ– æ–¹é¢å…ˆå¤©ä¸è¶³ï¼Œå› æ­¤ï¼ŒReactçš„ä¼˜åŒ–ä¸»è¦åœ¨ "),s("strong",[t._v("è¿è¡Œæ—¶")])]),t._v(" "),s("blockquote",[s("p",[t._v("React15çš„ç—›ç‚¹")])]),t._v(" "),s("p",[t._v("React15 å®ç°äº†batchdUpdatesï¼ˆæ‰¹é‡æ›´æ–°ï¼‰ï¼Œå³ åŒä¸€äº‹ä»¶å›è°ƒå‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å¤šæ¬¡ setState åªä¼šè§¦å‘ä¸€æ¬¡ æ›´æ–°")]),t._v(" "),s("p",[t._v("ä½†æ˜¯ï¼Œå¦‚æœå•æ¬¡æ›´æ–°å°±å¾ˆè€—æ—¶ï¼Œé€ æˆé¡µé¢å¡é¡¿")]),t._v(" "),s("p",[t._v("å› ä¸ºv15çš„æ›´æ–°æµç¨‹æ˜¯åŒæ­¥çš„ï¼Œä¸€æ—¦å¼€å§‹ç›´åˆ°é¡µé¢æ¸²æŸ“å‰éƒ½ä¸èƒ½ä¸­æ–­")]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³ åŒæ­¥æ›´æ–° é•¿æ—¶é—´å ç”¨ çº¿ç¨‹ å¯¼è‡´é¡µé¢å¡é¡¿çš„é—®é¢˜ï¼ŒReactå¼€å§‹é‡æ„ï¼Œä¸ºäº†å®ç° Concurrent Modeï¼ˆå¹¶å‘æ¨¡å¼ï¼‰")]),t._v(" "),s("blockquote",[s("p",[t._v("Concurrent Mode")])]),t._v(" "),s("p",[t._v("ä¸ºäº† å®ç° ä¸€å¥— å¯ä¸­æ–­/æ¢å¤ çš„æ›´æ–°æœºåˆ¶")]),t._v(" "),s("p",[t._v("2ä¸ªéƒ¨åˆ†ç»„æˆ")]),t._v(" "),s("ol",[s("li",[t._v("ä¸€å¥— åç¨‹ æ¶æ„")]),t._v(" "),s("li",[t._v("åŸºäº åç¨‹æ¶æ„çš„ å¯å‘å¼æ›´æ–°ç®—æ³•")])]),t._v(" "),s("p",[t._v("åç¨‹æ¶æ„å°±æ˜¯V16å®ç°çš„Fiber Reconcilerï¼Œå¯å°†Fiber Reconcilerç†è§£ä¸ºReactè‡ªå·±å®ç°çš„Generator")]),t._v(" "),s("p",[t._v("åç¨‹æ¶æ„ ä½¿ æ›´æ–° å¯åœ¨éœ€è¦æ—¶è¢« "),s("strong",[t._v("ä¸­æ–­")]),t._v("ï¼Œé…±ç´« æµè§ˆå™¨å°±æœ‰æ—¶é—´ å®Œæˆ æ ·å¼å¸ƒå±€å’Œç»˜åˆ¶ï¼Œå‡å°‘ å¡é¡¿")]),t._v(" "),s("p",[t._v("å½“è¿›å…¥ä¸‹ä¸€æ¬¡ Event Loopï¼Œåç¨‹æ¶æ„ å¯ æ¢å¤ä¸­æ–­ æˆ– æŠ›å¼ƒä¹‹å‰çš„ æ›´æ–°ï¼Œé‡æ–°å¼€å§‹æ–°çš„æ›´æ–°æµç¨‹")]),t._v(" "),s("p",[s("strong",[t._v("å¯å‘å¼æ›´æ–°ç®—æ³•")]),t._v(" å°±æ˜¯æ§åˆ¶ åç¨‹æ¶æ„ å·¥ä½œæ–¹å¼çš„ç®—æ³•")]),t._v(" "),s("blockquote",[s("p",[t._v("V16çš„å¯å‘å¼æ›´æ–°ç®—æ³•")])]),t._v(" "),s("p",[t._v("å¯å‘å¼ â€”â€”ä¸é€šè¿‡ æ˜¾å¼æŒ‡æ´¾ï¼Œè€Œæ˜¯ é€šè¿‡ ä¼˜å…ˆçº§ è°ƒåº¦æ›´æ–°ï¼ˆä¼˜å…ˆçº§æ¥è‡ª äººæœºäº¤äº’çš„ç ”ç©¶æˆæœï¼‰")]),t._v(" "),s("p",[s("em",[t._v("äººæœºäº¤äº’ç ”ç©¶ç»“æœè¡¨æ˜ï¼š")])]),t._v(" "),s("p",[s("em",[t._v("ç”¨æˆ·åœ¨è¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œå¸Œæœ›å†…å®¹èƒ½å®æ—¶æ˜¾ç¤º")])]),t._v(" "),s("p",[s("em",[t._v("å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œå³ä½¿ç­‰å¾…ä¸€ä¼šå„¿å†æ˜¾ç¤ºå†…å®¹ï¼Œç”¨æˆ·å‹‰å¼ºä¹Ÿèƒ½æ¥å—")])]),t._v(" "),s("p",[t._v("å› æ­¤ï¼ŒV16ä¸­")]),t._v(" "),s("p",[s("strong",[t._v("è¾“å…¥æ¡†å†…å®¹è§¦å‘çš„ æ›´æ–° ä¼˜å…ˆçº§ >è¯·æ±‚æ•°æ®è¿”å› åè§¦å‘ æ›´æ–° ä¼˜å…ˆçº§")])]),t._v(" "),s("p",[t._v("V16çš„ expirationTimesæ¨¡å‹åªåŒºåˆ†æ˜¯å¦>=expirationTimes å†³å®šèŠ‚ç‚¹æ˜¯å¦æ›´æ–°")]),t._v(" "),s("blockquote",[s("p",[t._v("V17å¯å‘å¼æ›´æ–°ç®—æ³•")])]),t._v(" "),s("p",[t._v("æœ€ç†æƒ³çš„æ¨¡å‹â€”â€”å¯æŒ‡å®šä»»æ„å‡ ä¸ª ä¼˜å…ˆçº§ï¼Œæ›´æ–° ä»¥è¿™äº› ä¼˜å…ˆçº§ å¯¹åº”çš„ update ç”Ÿæˆé¡µé¢å¿«ç…§")]),t._v(" "),s("p",[t._v("V17çš„lanesæ¨¡å‹å¯é€‰å®šä¸€ä¸ª æ›´æ–°åŒºé—´ï¼ŒåŠ¨æ€å‘ åŒºé—´ å¢å‡ ä¼˜å…ˆçº§ï¼Œå¯å¤„ç†æ›´ç»†ç²’åº¦çš„æ›´æ–°")]),t._v(" "),s("h1",{attrs:{id:"fiber"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiber"}},[t._v("#")]),t._v(" ğŸ”¥ Fiber")]),t._v(" "),s("p",[t._v("JSå•çº¿ç¨‹è¿è¡Œï¼Œè´Ÿè´£é¡µé¢JSè§£æå’Œæ‰§è¡Œã€ç»˜åˆ¶ã€äº‹ä»¶å¤„ç†ã€èµ„æºåŠ è½½å’Œå¤„ç†ï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œï¼Œè‹¥ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåé¢çš„ä»»åŠ¡åˆ™ä¸èƒ½æ‰§è¡Œï¼Œå¡æ­»ã€‚")]),t._v(" "),s("p",[t._v("JSå¼•æ“å’Œé¡µé¢æ¸²æŸ“å¼•æ“ä¸¤ä¸ªçº¿ç¨‹äº’æ–¥ã€‚")]),t._v(" "),s("p",[t._v("React 15 ï¼Œæ¸²æŸ“æ—¶ é€’å½’å¯¹æ¯” VDOMï¼Œæ‰¾éœ€è¦å˜åŠ¨çš„èŠ‚ç‚¹ï¼ŒåŒæ­¥æ›´æ–°ï¼Œä¸€æ°”å‘µæˆï¼ï¼æ­¤è¿‡ç¨‹Reactéœ¸å æµè§ˆå™¨èµ„æºï¼Œå¯¼è‡´ç”¨æˆ·è§¦å‘çš„äº‹ä»¶å¾—ä¸åˆ°å“åº”ï¼Œæ‰å¸§ å¡é¡¿ï¼ï¼Stack Reconcileræ˜¯åŒæ­¥è¿‡ç¨‹ï¼Œä½¿ç”¨JSå¼•æ“è‡ªèº«çš„å‡½æ•°è°ƒç”¨æ ˆï¼Œæ‰§è¡Œåˆ°æ ˆç©ºä¸ºæ­¢ï¼Œæ¸²æŸ“ç»„ä»¶æ—¶ï¼Œå¼€å§‹åˆ°æ¸²æŸ“å®Œæˆæ•´ä¸ªè¿‡ç¨‹ä¸€æ°”å‘µæˆï¼Œæ— æ³•ä¸­æ–­")]),t._v(" "),s("p",[t._v("ç»„ä»¶è¾ƒå¤§ï¼Œjsçº¿ç¨‹ä¸€ç›´æ‰§è¡Œï¼Œç­‰åˆ°æ•´æ£µ"),s("code",[t._v("VDOM")]),t._v("æ ‘è®¡ç®—å®Œæˆ æ‰ä¼šäº¤ç»™æ¸²æŸ“çš„çº¿ç¨‹")]),t._v(" "),s("p",[t._v("æ‰€æœ‰ä»»åŠ¡æ²¡æœ‰ä¼˜å…ˆçº§ï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œ")]),t._v(" "),s("p",[t._v("æœŸæœ›æ‰¾å‡ºæœ‰å¢åˆ æ”¹çš„èŠ‚ç‚¹ï¼ŒåŒæ­¥æ›´æ–°è¿™ä¸ªè¿‡ç¨‹åˆ†è§£æˆ2ä¸ªéƒ¨åˆ†ï¼Œæˆ–å˜æˆå¯ä¸­æ–­/æ¢å¤çš„æ‰§è¡Œï¼Œç±»ä¼¼ å¤šä»»åŠ¡OSçš„å•å¤„ç†è°ƒåº¦")]),t._v(" "),s("p",[t._v("å°†æµè§ˆå™¨ æ¸²æŸ“ å¸ƒå±€ ç»˜åˆ¶ èµ„æºåŠ è½½ äº‹ä»¶å“åº” è„šæœ¬æ‰§è¡Œ çœ‹æˆOSçš„processï¼Œé€šè¿‡ è°ƒåº¦ç­–ç•¥åˆç†åˆ†é… CPU èµ„æºï¼Œæé«˜æµè§ˆå™¨  å“åº”é€Ÿç‡ï¼Œå…¼é¡¾ æ‰§è¡Œæ•ˆç‡")]),t._v(" "),s("p",[t._v("React16èµ·ï¼Œå¼•å…¥ Fiber æ¶æ„")]),t._v(" "),s("p",[s("strong",[t._v("fiberæ˜¯ é“¾è¡¨ï¼Œå¯ä»¥æ‰“æ–­ï¼Œå¯é€šè¿‡ requestIdleCallback ç©ºé—²è°ƒåº¦ reconcileï¼Œä¸æ–­å¾ªç¯ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„ VDOM è½¬fiberçš„reconcileï¼Œå¼€å§‹ commitï¼Œå³ æ›´æ–°åˆ°ADOM")])]),t._v(" "),s("p",[t._v("requestIdleCallbackå®ç°ï¼ŒReact å›¢é˜Ÿ polyfill äº†è¿™ä¸ª APIï¼Œä½¿å…¶å…¼å®¹æ€§æ›´å¥½ä¸”æ‹“å±•äº†ç‰¹æ€§")]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"window-requestidlecallback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window-requestidlecallback"}},[t._v("#")]),t._v(" window.requestIdleCallback()")])]),t._v(" "),s("p",[t._v("æµè§ˆå™¨ç©ºé—²æ—¶ è¢«è°ƒç”¨ï¼Œä½¿ å¼€å‘è€…èƒ½åœ¨ä¸»äº‹ä»¶å¾ªç¯ä¸Šæ‰§è¡Œåå°å’Œä½ä¼˜å…ˆçº§å·¥ä½œï¼Œä¸å½±å“å»¶è¿Ÿ å…³é”®äº‹ä»¶ï¼Œå¦‚ åŠ¨ç”» å’Œè¾“å…¥å“åº”")]),t._v(" "),s("p",[t._v("å‡½æ•°ä¸€èˆ¬æŒ‰å…ˆè¿›å…ˆè°ƒç”¨é¡ºåºæ‰§è¡Œï¼Œç„¶è€Œï¼Œå¦‚æœå›è°ƒæŒ‡å®šäº†æ‰§è¡Œè¶…æ—¶æ—¶é—´ timeoutï¼Œå¯èƒ½ä¼šä¸ºäº†åœ¨è¶…æ—¶å‰æ‰§è¡Œå‡½æ•° æ‰“ä¹±æ‰§è¡Œé¡ºåº")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/process.png",alt:"æ›´æ–°æµç¨‹"}})]),t._v(" "),s("ul",[s("li",[t._v("åˆ†æ‰¹å»¶æ—¶ æ“ä½œ DOMï¼Œé¿å…ä¸€æ¬¡æ€§æ“ä½œå¤§é‡ DOM èŠ‚ç‚¹ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½")]),t._v(" "),s("li",[t._v("ç»™æµè§ˆå™¨ä¸€ç‚¹å–˜æ¯çš„æœºä¼šï¼Œå¯¹ä»£ç è¿›è¡Œ ç¼–è¯‘ ä¼˜åŒ– åŠçƒ­ä»£ç ä¼˜åŒ–")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=Mzg3OTYzMDkzMg==&mid=2247488140&idx=1&sn=8740d01bd4ebfcd676ec0d40936345b6&chksm=cf00ddb7f87754a1b124890c645b8f73c9dfcdd4b68d7983900815bfa47159e856e1cfd1c539&scene=178&cur_album_id=2150429217522614274#rd",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰‹å†™ç®€æ˜“ç‰ˆ React æ¥å½»åº•ææ‡‚ fiber æ¶æ„"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("å®ç°å…ƒç´ çš„æ›´æ–°")])]),t._v(" "),s("h2",{attrs:{id:"åŒç¼“å†²ä¼˜åŒ–ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒç¼“å†²ä¼˜åŒ–ç­–ç•¥"}},[t._v("#")]),t._v(" åŒç¼“å†²ä¼˜åŒ–ç­–ç•¥")]),t._v(" "),s("p",[t._v("è¿ä½“å©´ç»“æ„")]),t._v(" "),s("p",[t._v("å…ˆç»˜åˆ¶åˆ°ä¸€ä¸ªç¼“å†²åŒºï¼Œå†ä¸€æ¬¡æ€§ä¼ é€’ç»™å±å¹•æ˜¾ç¤ºï¼Œé˜²æ­¢æŠ–åŠ¨")]),t._v(" "),s("p",[t._v("å¥½å¤„")]),t._v(" "),s("ul",[s("li",[t._v("åŠæ—¶å¤ç”¨å¯¹è±¡(fiber)")]),t._v(" "),s("li",[t._v("èŠ‚çœå†…å­˜åˆ†é…ï¼ŒGCæ—¶é—´å¼€é”€")])]),t._v(" "),s("p",[t._v("å½“å‰domæ ‘å¯¹åº”çš„fiberæ ‘äº¤currentFiberï¼Œæ­£åœ¨æ„å»ºçš„fiberæ ‘äº¤workInProgress Fiberï¼Œä¸¤æ£µæ ‘ é€šè¿‡alternateç›¸è¿")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/image-20220921142827234.png",alt:"image-20220921142827234"}})]),t._v(" "),s("ul",[s("li",[t._v("å°†æ¯æ¬¡æ¸²æŸ“å®Œåçš„fiberæ ‘èµ‹å€¼ç»™"),s("code",[t._v("currentRoot")])]),t._v(" "),s("li",[t._v("ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶å°†"),s("code",[t._v("rooterFiber")]),t._v("çš„"),s("code",[t._v("alternate")]),t._v("æŒ‡å‘"),s("code",[t._v("ä¸Šä¸€æ¬¡æ¸²æŸ“å¥½çš„currentRoot")])]),t._v(" "),s("li",[t._v("ç¬¬äºŒæ¬¡ä¹‹åçš„æ›´æ–°å°†"),s("code",[t._v("workInProgressRoot")]),t._v("æŒ‡å‘"),s("code",[t._v("currentRoot.alternate")]),t._v("ï¼Œç„¶åå°†å½“å‰çš„"),s("code",[t._v("workInProgressRoot.alternate")]),t._v("æŒ‡å‘"),s("code",[t._v("ä¸Šä¸€æ¬¡æ¸²æŸ“å¥½çš„currentRoot")])]),t._v(" "),s("li",[t._v("...")]),t._v(" "),s("li",[t._v("è¿›è€Œè¾¾åˆ°å¤ç”¨fiberå¯¹è±¡æ ‘")])]),t._v(" "),s("p",[t._v("alternateå¯¹è±¡ä¼šæ¥æ”¶ä¸Šæ–¹ä¼ é€’çš„æ–°propsï¼Œä»getDerivedStateFromPropså¾—åˆ°æ–°çš„stateï¼Œrenderä¸ä¸€æ ·çš„ç»„å‘˜ï¼Œmasterå’Œalternateå·®å¼‚è¶Šæ¥è¶Šå¤§ï¼Œå­ç»„ä»¶å‡ºé”™ åˆ™å›æ»šåˆ°ç»„ä»¶çš„masteråˆ†æ”¯")]),t._v(" "),s("p",[s("strong",[s("u",[t._v("æ¨¡æ‹Ÿgit addã€git commitå’Œgit revert")])])]),t._v(" "),s("p",[s("strong",[s("u",[t._v("æ›´æ–°è¿‡ç¨‹ç”±currentå’ŒworkInProgress ä¸¤æ ªæ ‘åŒç¼“å†² å®Œæˆ")])])]),t._v(" "),s("p",[t._v("workInProgressæ›´æ–°å®Œæˆå ä¿®æ”¹ current ç›¸å…³æŒ‡é’ˆ æŒ‡å‘æ–°èŠ‚ç‚¹")]),t._v(" "),s("p",[t._v("åŒç¼“å†²ï¼šç»è¿‡reconcileå½¢æˆæ–°çš„workInProgress Fiberï¼Œå°†workInProgress Fiberåˆ‡æ¢æˆcurrent Fiberåº”ç”¨åˆ°ADOMï¼Œå­˜åœ¨åŒfiberçš„å¥½å¤„æ˜¯å†…å­˜å½¢æˆè§†å›¾çš„æè¿°ï¼Œåº”ç”¨åˆ°domï¼Œå‡å°‘å¯¹domçš„æ“ä½œ")]),t._v(" "),s("h1",{attrs:{id:"reactæ¸²æŸ“æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactæ¸²æŸ“æœºåˆ¶"}},[t._v("#")]),t._v(" Reactæ¸²æŸ“æœºåˆ¶")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://interview.yuadh.com/assets/image-20220531160934180.png",alt:"image-20220531160934180"}})]),t._v(" "),s("h1",{attrs:{id:"è·å–dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·å–dom"}},[t._v("#")]),t._v(" è·å–dom")]),t._v(" "),s("p",[t._v("react-domä¸­çš„findDOMNode()")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ReactDOM "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findDOMNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// thisä¸ºå½“å‰ç»„ä»¶çš„å®ä¾‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("å½“ç»„ä»¶è¢«æ¸²æŸ“ ï¼ŒfindDOMNode è¿”å›è¯¥ç»„ä»¶å®ä¾‹å¯¹åº”çš„DOMèŠ‚ç‚¹")]),t._v(" "),s("p",[t._v("refs")]),t._v(" "),s("p",[t._v("å¤šç”¨äºReactç»„ä»¶å†…å­ç»„ä»¶çš„å¼•ç”¨")]),t._v(" "),s("p",[t._v("æœ‰ä¸¤ç§æƒ…å†µï¼š")]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰å­ç»„ä»¶ä¸ºåŸç”ŸDOMï¼šè·å–åˆ°çš„å°±æ˜¯è¿™ä¸ªDOMèŠ‚ç‚¹ã€‚å¦‚ä¸‹ä¾‹ï¼Œthis.inputå°±è·å–åˆ°äº†å½“å‰"),s("code",[t._v("<input />")]),t._v("èŠ‚ç‚¹ã€‚")]),t._v(" "),s("div",{staticClass:"language-csharp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myInput "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("é€šè¿‡this.myInputï¼Œæˆ‘å°±å¯ä»¥å¯¹"),s("code",[t._v("<input />")]),t._v("è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œæ¯”å¦‚è®©è¾“å…¥æ¡†èšç„¦ï¼š")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("this.myInput."),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("æ³¨ï¼šrefsä¹Ÿæ”¯æŒå­—ç¬¦ä¸²æ ¼å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-csharp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("'myInput' "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("é€šè¿‡this.refs.myInputè·å–åˆ°èŠ‚ç‚¹ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰å­ç»„ä»¶ä¸ºReactç»„ä»¶ï¼Œæ¯”å¦‚"),s("code",[t._v("<MyInput/>")]),t._v("ï¼šè·å¾—çš„å°±æ˜¯"),s("code",[t._v("<MyInput/>")]),t._v("çš„å®ä¾‹ï¼Œå› æ­¤å°±å¯ä»¥è°ƒç”¨"),s("code",[t._v("<MyInput/>")]),t._v("çš„å®ä¾‹æ–¹æ³•ã€‚\nç¤ºä¾‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myComp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myComp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–åˆ°çš„æ˜¯<Comp />çš„å®ä¾‹myComp")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findDOMNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myComp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–åˆ°å®ä¾‹å¯¹åº”çš„DOMèŠ‚ç‚¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n            ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Comp")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("myComp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("æ³¨ï¼šè°ƒç”¨"),s("code",[t._v("<Comp />")]),t._v("å®ä¾‹æ–¹æ³•çš„æ–¹å¼ï¼šthis.refs.myComp.method()ï¼Œä½†å¹¶ä¸å»ºè®®è¿™ç§è°ƒç”¨æ–¹å¼ã€‚")]),t._v(" "),s("h1",{attrs:{id:"others"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#others"}},[t._v("#")]),t._v(" others")]),t._v(" "),s("h2",{attrs:{id:"dangerouslysetinnerhtml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dangerouslysetinnerhtml"}},[t._v("#")]),t._v(" dangerouslySetInnerHTML")]),t._v(" "),s("p",[t._v("æ˜¯REactä¸­innerHTMLçš„æ›¿ä»£å“")]),t._v(" "),s("p",[t._v("ç½‘çƒç³»ç»Ÿä¸­ä½¿ç”¨è¿‡ï¼Œç”¨æ¥æ¥æ”¶æ–°é—»æ­£æ–‡ï¼Œæ˜¾ç¤ºæ–°é—»æ•°æ®HTML")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("dangerouslySetInnerHTML")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__html")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" newsTexts "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Reactçš„HTMLå…ƒç´ ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå¯èƒ½æ˜¯å±é™©çš„ï¼Œå› ä¸ºæˆ‘ä»¬å®¹æ˜“æ”¶åˆ°XSS(è·¨ç«™è„šæœ¬æ”»å‡»)â€”â€”ä»ç¬¬ä¸‰æ–¹è·å–æ•°æ®æˆ–ç”¨æˆ·æäº¤å†…å®¹æ—¶")]),t._v(" "),s("p",[t._v("Reactä¼šè¯†åˆ«HTMLæ ‡ç­¾ï¼Œç„¶åæ¸²æŸ“")]),t._v(" "),s("p",[t._v("HTMLå…ƒç´ å¯èƒ½ä¼šæ‰§è¡Œè„šæœ¬ï¼Œå½“JSä»£ç é™„åŠ åˆ°HTMLå…ƒç´ ä¸Š")]),t._v(" "),s("p",[t._v("ä½¿ç”¨HTMLå‡€åŒ–å·¥å…·DOMPurifyæ£€æµ‹HTMLä¸­æ½œåœ¨çš„æ¶æ„éƒ¨åˆ†")]),t._v(" "),s("h2",{attrs:{id:"import-react-from-react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-react-from-react"}},[t._v("#")]),t._v(" import React from 'react'")]),t._v(" "),s("p",[t._v("åœ¨ä½¿ç”¨JSXçš„JSæ–‡ä»¶ä¸­ï¼Œå¿…é¡»æ˜¾ç¤ºå£°æ˜ï¼Œä¸ºå•¥ï¼Ÿ")]),t._v(" "),s("p",[t._v("JSXåœ¨ç¼–è¯‘æ—¶ä¼šè¢«Babelç¼–è¯‘ä¸ºReact.createElement()æ–¹æ³•")]),t._v(" "),s("p",[t._v("å¦åˆ™åœ¨è¿è¡Œæ—¶è¯¥æ¨¡å—ä¼šæŠ¥é”™â€”â€”æœªå®šä¹‰å˜é‡React")]),t._v(" "),s("p",[t._v("React17ä¸­ï¼Œä¸éœ€è¦æ˜¾å¼å¯¼å…¥React")])])}),[],!1,null,null,null);s.default=n.exports}}]);