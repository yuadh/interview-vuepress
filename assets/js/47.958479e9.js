(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{381:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"登录功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录功能"}},[s._v("#")]),s._v(" 登录功能")]),s._v(" "),t("p",[t("code",[s._v("HTTP")]),s._v(" 是无状态的协议，每一次 "),t("code",[s._v("HTTP")]),s._v(" 请求和响应都是一次性的，服务器本身没有记录访问和响应的状态，无法分辨每一次发送者是否为同一浏览器。随着互联网的发展，有了此类的需求，为了进行会话跟踪就需要维护一个有记录的状态。这个状态就是用来记录请求是否来自同一会话的东西，采用 "),t("code",[s._v("cookie")]),s._v(" 和 "),t("code",[s._v("session")]),s._v(" 技术实现")]),s._v(" "),t("p",[t("code",[s._v("会话")]),s._v("： 用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。在一次会话中可以包含 "),t("strong",[s._v("多次")]),s._v(" 请求和响应")]),s._v(" "),t("p",[t("code",[s._v("会话跟踪")]),s._v("：一种维护浏览器状态的方法，服务器需要识别多次请求是否来自于同一浏览器，以便同一次会话的多次请求 "),t("strong",[s._v("共享数据")])]),s._v(" "),t("p",[s._v("体现：网站登录后多个页面有用户名等信息、网站勾选 "),t("code",[s._v("记住我")]),s._v(" 后会自动填充账户密码")]),s._v(" "),t("ul",[t("li",[s._v("客户端会话跟踪技术 ： "),t("code",[s._v("cookie")])]),s._v(" "),t("li",[s._v("服务端会话跟踪技术："),t("code",[s._v("session")])])]),s._v(" "),t("h2",{attrs:{id:"cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" cookie")]),s._v(" "),t("p",[s._v("客户端会话技术，将数据保存到客户端，每次请求都携带 "),t("code",[s._v("cookie")]),s._v(" 数据")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.yuadh.com/imgs/2023/01/11/1673447110309.png",alt:"1673447110309.png"}})]),s._v(" "),t("p",[s._v("服务端提供了两个 Servlet，分别为 A 和 B")]),s._v(" "),t("ol",[t("li",[s._v("浏览器发送HTTP请求1给服务端，服务端ServletA接收请求并进行业务处理")]),s._v(" "),t("li",[s._v("服务端ServletA在处理的过程中可以创建一个Cookie对象并将"),t("code",[s._v("name=zs")]),s._v("的数据存入Cookie")]),s._v(" "),t("li",[s._v("服务端ServletA在响应数据的时候，会把Cookie对象响应给浏览器")]),s._v(" "),t("li",[s._v("浏览器接收到响应数据，会把Cookie对象中的数据存储在浏览器内存中，此时浏览器和服务端就 "),t("strong",[s._v("建立了一次会话")])]),s._v(" "),t("li",[t("strong",[s._v("在同一次会话")]),s._v(" 中浏览器再次发送HTTP请求2给服务端ServletB，浏览器会携带Cookie对象中的所有数据")]),s._v(" "),t("li",[s._v("ServletB接收到请求和数据后，就可以获取到存储在Cookie对象中的数据，这样同一个会话中的多次请求之间就实现了数据共享")])]),s._v(" "),t("p",[t("strong",[s._v("基本使用")])]),s._v(" "),t("p",[s._v("创建 Cookie 对象")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),s._v(" cookie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("发送 Cookie 对象")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("response.addCookie(cookie);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("获取 Cookie 对象")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" cookies "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用 Cookie 对象")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("cookie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncookie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);